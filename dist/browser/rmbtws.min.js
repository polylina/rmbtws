(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*!******************************************************************************
 * @license
 * Copyright 2015-2017 Thomas Schreiber
 * Copyright 2017-2019 Rundfunk und Telekom Regulierungs-GmbH (RTR-GmbH)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * The source code for this project is available at
 * https://github.com/rtr-nettest/rmbtws
 *****************************************************************************!*/
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function RMBTTest(e,t){function n(e){void 0!==w&&w===e||(w=e,M=nowMs(),E&&E(e))}function s(e,t,s){var i=(e.test_server_encryption?"wss://":"ws://")+e.test_server_address+":"+e.test_server_port;p.debug(i);var d=function(){return{IGNORE:function(){},CALLGLOBALHANDLER:function(e){e&&p.error("connection closed",e),x(RMBTError.CONNECT_FAILED)},TRYRECONNECT:function(){x(RMBTError.CONNECT_FAILED)}}}();t.onStateEnter(TestState.INIT_DOWN,function(){n(TestState.INIT_DOWN),p.debug(t.id+": start short download"),m=_,a(t,S.pretestDurationMs)}),t.onStateEnter(TestState.PING,function(){n(TestState.PING),p.debug(t.id+": starting ping"),0===t.id?u(t):t.triggerNextState()}),t.onStateEnter(TestState.DOWN,function(){if(n(TestState.DOWN),D.length>0){var s=r(D,S.downloadThreadsLimitsMbit,!1);C=s.numThreads,I&&(m=s.chunkSize),D=[]}t.id<C?c(t,e.test_duration):(t.socket.onerror=d.IGNORE,t.socket.onclose=d.IGNORE,t.triggerNextState())}),t.onStateEnter(TestState.CONNECT_UPLOAD,function(){n(TestState.INIT_UP),t.socket.onerror=d.IGNORE,t.socket.onclose=d.IGNORE,t.socket.close(),o(t,i,e.test_token,d.CALLGLOBALHANDLER)}),t.onStateEnter(TestState.INIT_UP,function(){m=_,l(t,S.pretestDurationMs)}),t.onStateEnter(TestState.UP,function(){if(n(TestState.UP),D.length>0){var s=r(D,S.uploadThreadsLimitsMbit,!0);U=s.numThreads,I&&(m=s.chunkSize),D=[]}t.id<U?T(t,e.test_duration):(t.socket.onerror=d.IGNORE,t.socket.onclose=d.IGNORE,t.socket.readyState!==WebSocket.CLOSED&&t.socket.close(),t.triggerNextState())}),t.onStateEnter(TestState.END,function(){t.socket.readyState!==WebSocket.CLOSED&&t.socket.close(),0===t.id&&s()}),t.setState(TestState.INIT),n(TestState.INIT),o(t,i,e.test_token,d.CALLGLOBALHANDLER)}function o(e,t,n,s){try{e.socket=new WebSocket(t)}catch(e){return void x(RMBTError.SOCKET_INIT_FAILED)}e.socket.binaryType="arraybuffer",e.socket.onerror=s,e.socket.onclose=s,e.socket.onmessage=function(t){if(0===t.data.indexOf("CHUNKSIZE")){var o=t.data.trim().split(" ");4===o.length?(h=parseInt(o[1]),_=parseInt(o[2]),v=parseInt(o[3])):(h=parseInt(o[1]),_=h),p.debug(e.id+": Chunksizes: min "+_+", max: "+v+", default: "+h)}else if(0===t.data.indexOf("RMBTv")){var r=t.data.substring(5).trim();S.client_version=r,0===r.indexOf("1.")?I=!0:0===r.indexOf("0.3")?I=!1:p.warn("unknown server version: "+r)}else"ACCEPT TOKEN QUIT\n"===t.data?e.socket.send("TOKEN "+n+"\n"):"OK\n"===t.data&&e.state===TestState.INIT?p.debug(e.id+": Token accepted"):"ERR\n"===t.data?(s(),p.error("got error msg")):0===t.data.indexOf("ACCEPT GETCHUNKS")&&e.triggerNextState()}}function r(e,t,n){G=e.reduce(function(e,t){return e+t}),p.debug("total: circa "+G/1e3+" KB/sec"),p.debug("total: circa "+8*G/1e6+" MBit/sec");var s=8*G/1e6,o=0;Object.keys(t).forEach(function(e){s>e&&(o=t[e])}),o=Math.min(B,o),p.debug("set number of threads to be used in upcoming speed test to: "+o);var r=G/(1e3/(S.measurementPointsTimespan/2));if(r-=r%1024,r=Math.max(_,r),r=Math.min(v,r),p.debug("calculated chunksize for upcoming speed test "+r/1024+" KB"),n){var a=Number.POSITIVE_INFINITY;Object.keys(y).forEach(function(e){Math.abs(r-e)<Math.abs(r-a)?("string"==typeof e&&(e=parseInt(e)),a=e):(delete y[e],delete L[e])}),r=a,p.debug("fallback to existing chunksize for upcoming speed test "+r/1024+" KB")}return{numThreads:o,chunkSize:r,bytesPerSecs:G}}function a(e,t){var n=e.socket.onmessage,s=nowMs(),o=1,r=0,a=m;!function u(){i(e,o,a,function(i){r+=o*a,p.debug(e.id+": "+i);var d=parseInt(i.substring(5));nowMs()-s>t?(D.push(o*a/(d/1e9)),e.socket.onmessage=n):o<8||!I?(o*=2,u()):(a=Math.min(2*a,v),u())})}()}function i(e,t,n,s){var o=e.socket,r=t,a=m*t,i=0,u=null,d=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),n},c=function(e){if("string"!=typeof e.data){var t=!1;u=null===u?new Uint8Array(e.data):d(u,new Uint8Array(e.data)),i+=e.data.byteLength,u.length===n&&(r--,t=!0),t&&255===u[u.length-1]?(o.onmessage=function(e){var t=e.data;s(t)},o.send("OK\n"),L[n]=u.buffer,u=null):(y.hasOwnProperty(n)||(y[n]=[]),t&&(y[n].length<S.savedChunks&&y[n].push(u.buffer),u=null))}};o.onmessage=c,p.debug(e.id+": downloading "+t+" chunks, "+a/1e3+" KB");var l="GETCHUNKS "+t+(n!==h?" "+n:"")+"\n";o.send(l)}function u(e){var t=e.socket.onmessage,n=S.numPings,s=performance.now();d(e,function o(r){if(e.result.pings.push(r),b.pings=[].concat(_toConsumableArray(e.result.pings)),n===S.numPings-1&&(O.durationPingMs=(e.result.pings[1].timeNs-e.result.pings[0].timeNs)/1e6*S.numPings,p.debug(e.id+": PING phase will take approx "+O.durationPingMs+" ms")),p.debug(e.id+": PING "+r.client+" ns client; "+r.server+" ns server"),n--,S.doPingIntervalMilliseconds>0&&0===n){performance.now()-s<S.doPingIntervalMilliseconds&&(n=1)}if(n>0)e.socket.onmessage=function(t){"ACCEPT GETCHUNKS GETTIME PUT PUTNORESULT PING QUIT\n"===t.data?d(e,o):p.error("unexpected error during ping test")};else{for(var a=[],i=0;i<e.result.pings.length;i++)a.push(e.result.pings[i].client);b.ping_client_median=Math.median(a),b.ping_client_shortest=Math.min.apply(Math,a);for(var u=[],c=0;c<e.result.pings.length;c++)u.push(e.result.pings[c].server);b.ping_server_median=Math.median(u),b.ping_server_shortest=Math.min.apply(Math,u),p.debug(e.id+": median client: "+Math.round(b.ping_client_median/1e3)/1e3+" ms; median server: "+Math.round(b.ping_server_median/1e3)/1e3+" ms"),p.debug(e.id+": shortest client: "+Math.round(b.ping_client_shortest/1e3)/1e3+" ms; shortest server: "+Math.round(b.ping_server_shortest/1e3)/1e3+" ms"),e.socket.onmessage=t}})}function d(e,t){var n=void 0,s=void 0,o=function(o){if("PONG\n"===o.data){var r=nowNs();s=r-n,e.socket.send("OK\n")}else if(0===o.data.indexOf("TIME")){var a=new RMBTPingResult;a.client=s,a.server=parseInt(o.data.substring(5)),a.timeNs=n,t(a)}};e.socket.onmessage=o,n=nowNs(),e.socket.send("PING\n")}function c(e,t){var n=e.socket.onmessage,s=0,o=0,r=-1,a=void 0,i=void 0,u=null,d=null;a=window.setInterval(function(){if(null!==u&&r!==o){r=o;var t=nowNs();p.debug(e.id+": "+i+"|"+S.measurementPointsTimespan+"|"+t+"|"+o);var c=new Uint8Array(u,u.byteLength-1,1),g=d-l;e.result.down.push({duration:g,bytes:s}),i=t,c[0]>=255&&(p.debug(e.id+": received end chunk"),window.clearInterval(a),e.socket.onmessage=function(t){p.debug(t.data),e.socket.onmessage=n},e.socket.send("OK\n"))}},S.measurementPointsTimespan);var c=function(e){o++,s+=e.data.byteLength,d=nowNs(),u=e.data};e.socket.onmessage=c;var l=nowNs();e.socket.send("GETTIME "+t+(m!==h?" "+m:"")+"\n")}function l(e,t){var n=e.socket.onmessage,s=nowMs(),o=1,r=0,a=m;window.setTimeout(function(){var e=nowMs(),n=e-s;p.debug("diff:"+(n-t)+" ("+(n-t)/t+" %)")},t);!function i(){g(e,o,a,function(u){if(r+=o*a,p.debug(e.id+": "+u),nowMs()-s>t){e.socket.onmessage=n;var d=parseInt(u.substring(5));D.push(o*a/(d/1e9))}else{var c=2*a;o<8||!L.hasOwnProperty(c)||!I?(o*=2,i()):(a=Math.min(2*a,v),i())}})}()}function g(e,t,n,s){var o=e.socket;o.onmessage=function(e){0!==e.data.indexOf("OK")&&0!==e.data.indexOf("ACCEPT")&&s(e.data)},p.debug(e.id+": uploading "+t+" chunks, "+n*t/1e3+" KB"),o.send("PUTNORESULT"+(I?" "+n:"")+"\n");for(var r=0;r<t;r++){var a=void 0;a=r===t-1?L[n]:y[n][0],o.send(a)}}function T(e,t){var n=e.socket.onmessage,s=G/2/U,o=1.5*G/U,r=document.hidden?o:s,a=function(){r=document.hidden?o:s,p.debug("document visibility changed to: "+document.hidden)};document.addEventListener("visibilitychange",a);var i=Math.ceil(G/U/m),u=!1,d=!0,c=-1,l=0,g=function s(){u||(p.debug(e.id+": is 7.2 sec in, got data for "+c),c<1e9*t&&l<3e3?(window.setTimeout(s,250),l+=250):(p.debug(e.id+": didn't finish, timeout extended by "+l+" ms, last info for "+c),e.socket.onerror=function(){},e.socket.onclose=function(){},e.socket.close(),e.socket.onmessage=n,p.debug(e.id+": socket now closed: "+e.socket.readyState),document.removeEventListener("visibilitychange",a),e.triggerNextState()))},T=function t(){if(e.socket.bufferedAmount<r)for(var n=0;n<i;n++)e.socket.send(y[m][n%y[m].length]);if(!d)return!1;setTimeout(t,0)};window.setTimeout(g,1e3*t+200),window.setTimeout(function(){d=!1,e.socket.onclose=function(){},e.socket.send(L[m]),e.socket.send("QUIT\n")},1e3*t),p.debug(e.id+": set timeout");var f=1e6*S.measurementPointsTimespan,v=/TIME (\d+) BYTES (\d+)/,_=/TIME (\d+)/,I=function(t){"OK\n"===t.data&&T();var s=v.exec(t.data);if(null!==s){var o={duration:parseInt(s[1]),bytes:parseInt(s[2])};o.duration-c>f&&(c=o.duration,e.result.up.push(o))}else null!==(s=_.exec(t.data))&&(u=!0,p.debug("Upload duration: "+s[1]),e.socket.onmessage=n,document.removeEventListener("visibilitychange",a))};e.socket.onmessage=I,e.socket.send("PUT"+(m!==h?" "+m:"")+"\n")}function f(e){return{client_language:"de",client_name:S.client,client_uuid:S.uuid,client_version:S.client_version,client_software_version:S.client_software_version,geoLocations:b.geoLocations,model:S.model,network_type:98,platform:S.platform,product:S.product,pings:b.pings,test_bytes_download:b.bytes_download,test_bytes_upload:b.bytes_upload,test_nsec_download:b.nsec_download,test_nsec_upload:b.nsec_upload,test_num_threads:C,num_threads_ul:U,test_ping_shortest:b.ping_server_shortest,test_speed_download:b.speed_download,test_speed_upload:b.speed_upload,test_token:e.test_token,test_uuid:e.test_uuid,time:b.beginTime,timezone:S.timezone,type:"DESKTOP",version_code:"1",speed_detail:b.speedItems,user_server_selection:S.userServerSelection}}var p=log.getLogger("rmbtws"),m=null,v=4194304,_=0,h=4096,I=!1,S=void 0,k=void 0,b=null,N=null,E=null,w=TestState.INIT,M=null,O={durationInitMs:2500,durationPingMs:1e4,durationUpMs:-1,durationDownMs:-1},P=new RMBTIntermediateResult,R=[],y={},L={},A=null,B=0,C=0,U=0,D=[],G=0;this.onError=function(e){N=e},this.onStateChange=function(e){E=e};var x=function(e){if(p.debug("error occurred during websocket test:",e),e!==RMBTError.NOT_SUPPORTED&&n(TestState.ERROR),null!==N){var t=N;N=null,t(e)}};this.startTest=function(){if(void 0===window.WebSocket)return void x(RMBTError.NOT_SUPPORTED);n(TestState.INIT),b=new RMBTTestResult,k.getDataCollectorInfo(),k.obtainControlServerRegistration(function(e){B=parseInt(e.test_numthreads),A=new CyclicBarrier(B),O.durationDownMs=1e3*e.test_duration,O.durationUpMs=1e3*e.test_duration,null!==TestEnvironment.getTestVisualization()&&TestEnvironment.getTestVisualization().updateInfo(e.test_server_name,e.client_remote_ip,e.provider,e.test_uuid,e.open_test_uuid);var t=function(){p.debug("got geolocation, obtaining token and websocket address");var t=function(){n(TestState.INIT),b.beginTime=Date.now();for(var t=0;t<B;t++){var r=new RMBTTestThread(A);r.id=t,b.addThread(r.result),s(e,r,function(){p.info("All tests finished"),o.stop(),b.geoLocations=o.getResults(),b.calculateAll(),k.submitResults(f(e),function(){n(TestState.END)},function(){x(RMBTError.SUBMIT_FAILED)})}),R.push(r)}};0===e.test_wait?t():(p.info("test scheduled for start in "+e.test_wait+" second(s)"),n(TestState.WAIT),self.setTimeout(function(){t()},1e3*e.test_wait))},o=void 0;null!==TestEnvironment.getGeoTracker()?(o=TestEnvironment.getGeoTracker(),t()):(o=new GeoTracker,p.debug("getting geolocation"),o.start(function(){t()},TestEnvironment.getTestVisualization()))},function(){x(RMBTError.REGISTRATION_FAILED)})},this.getIntermediateResult=function(){P.status=w;var e=nowNs()/1e6-M;switch(P.status){case TestState.WAIT:P.progress=0;break;case TestState.INIT:case TestState.INIT_DOWN:case TestState.INIT_UP:P.progress=e/O.durationInitMs;break;case TestState.PING:P.progress=e/O.durationPingMs;break;case TestState.DOWN:P.progress=e/O.durationDownMs;break;case TestState.UP:P.progress=e/O.durationUpMs;break;case TestState.END:P.progress=1;break;case TestState.ERROR:case TestState.ABORTED:P.progress=0}if(isNaN(P.progress)&&(P.progress=0),P.progress=Math.min(1,P.progress),null!==b){if(P.status!==TestState.PING&&P.status!==TestState.DOWN||(P.pingNano=b.ping_server_median,P.pings=b.pings),P.status===TestState.DOWN||P.status==TestState.INIT_UP){var t=RMBTTestResult.calculateOverallSpeedFromMultipleThreads(b.threads,function(e){return e.down});P.downBitPerSec=t.speed,P.downBitPerSecLog=(Math.log10(P.downBitPerSec/1e6)+2)/4}if(P.status===TestState.UP||P.status==TestState.INIT_UP){var n=RMBTTestResult.calculateOverallSpeedFromMultipleThreads(b.threads,function(e){return e.up});P.upBitPerSec=n.speed,P.upBitPerSecLog=(Math.log10(P.upBitPerSec/1e6)+2)/4}}return P},this.getState=function(){return"INIT"},function(e,t){S=e,k=t}(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RMBTTest=RMBTTest;
"use strict";function runCallback(){void 0!=geo_callback&&"function"==typeof geo_callback&&window.setTimeout(function(){geo_callback()},1)}function getCurLocation(){return curGeoPos}function getLocation(o,e,t,n){var i=document.getElementById("infogeo");if(geo_callback=n,!navigator.geolocation){var a=getCookie("coords");if(a){var r=JSON.parse(a);r&&r.lat>0&&r.long>0&&testVisualization.setLocation(r.lat,r.long)}else i.innerHTML=Lang.getString("NotSupported");return void runCallback()}runCallback(),TestEnvironment.getGeoTracker().start(function(o,e){if(!0!==o)if(e)switch(e.code){case e.PERMISSION_DENIED:i.innerHTML=Lang.getString("NoPermission");break;case e.TIMEOUT:break;case e.POSITION_UNAVAILABLE:i.innerHTML=Lang.getString("NotAvailable");break;case e.UNKNOWN_ERROR:i.innerHTML=Lang.getString("NotAvailable")+"("+e.code+")"}else i.innerHTML=Lang.getString("NotAvailable")},TestEnvironment.getTestVisualization())}var curGeoPos=void 0,geo_callback=void 0,loc_timeout=void 0,GeoTracker=function(){function o(){e=[],a=!1}var e=void 0,t=void 0,n=null,i=void 0,a=void 0;o.prototype.start=function(o,l){if(t=o,void 0!==l&&(n=l),navigator.geolocation)navigator.geolocation.getCurrentPosition(function(o){0===e.length&&(a=!0,r(o))},c,{enableHighAccuracy:!1,timeout:2e3,maximumAge:6e4}),i=navigator.geolocation.watchPosition(r,c,{enableHighAccuracy:!0,timeout:1/0,maximumAge:0});else{var u=t;t=null,u(!1)}window.setTimeout(function(){c()},2e3)};var r=function(o){if(1===e.length&&a&&(e=[],a=!1),e.push({geo_lat:o.coords.latitude,geo_long:o.coords.longitude,accuracy:o.coords.accuracy,altitude:o.coords.altitude,bearing:o.coords.heading,speed:o.coords.speed,tstamp:o.timestamp,provider:"Browser"}),null!==t){var i=t;t=null,i(!0)}null!==n&&n.setLocation(o.coords.latitude,o.coords.longitude),l(o)},c=function(o){if(null!==t){var e=t;t=null,e(!1,o)}},l=function(o){var e={};e.lat=o.coords.latitude,e.long=o.coords.longitude,e.accuracy=o.coords.accuracy,e.altitude=o.coords.altitude,e.heading=o.coords.heading,e.speed=o.coords.speed,e.tstamp=o.timestamp,e=JSON.stringify(e),setCookie("coords",e,3600)};return o.prototype.stop=function(){navigator.geolocation&&navigator.geolocation.clearWatch(i)},o.prototype.getResults=function(){var o=null;return e=e.filter(function(e){return null==o?(o=e,!0):!Object.keys(e).every(function(t){return o.hasOwnProperty(t)&&o[t]===e[t]})&&(o=e,!0)})},o}();void 0===window.setCookie&&(window.setCookie=function(o,e,t){var n=new Date,i=n.getTime();i+=1e3*t,n.setTime(i);var a=encodeURIComponent(e)+(null==t?";":"; expires="+n.toUTCString()+";");document.cookie=o+"="+a+" path=/;"});
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RMBTControlServerCommunication=exports.RMBTControlServerCommunication=function(e,r){var t=e,n=log.getLogger("rmbtws");r=r||{};var o=r.headers||{"Content-Type":"application/json"};return{obtainControlServerRegistration:function(e,r){var i={version:t.version,language:t.language,uuid:t.uuid,type:t.type,version_code:t.version_code,client:t.client,timezone:t.timezone,time:(new Date).getTime()};Object.assign(i,t.additionalRegistrationParameters),"undefined"!=typeof userServerSelection&&userServerSelection>0&&"undefined"!=typeof UserConf&&void 0!==UserConf.preferredServer&&"default"!==UserConf.preferredServer&&(i.prefer_server=UserConf.preferredServer,i.user_server_selection=userServerSelection);var s=void 0;fetch(t.controlServerURL+t.controlServerRegistrationResource,{method:"POST",headers:o,body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(r){s=r;var t=new RMBTControlServerRegistrationResponse(r);e(t)}).catch(function(e){s=e,n.error("error getting testID"),r()}).finally(function(){null!=_registrationCallback&&"function"==typeof _registrationCallback&&_registrationCallback({response:s,request:i})})},getDataCollectorInfo:function(){fetch(t.controlServerURL+t.controlServerDataCollectorResource,{method:"GET",headers:o}).then(function(e){return e.json()}).then(function(e){t.product=e.agent.substring(0,Math.min(150,e.agent.length)),t.model=e.product,t.os_version=e.version}).catch(function(){n.error("error getting data collection response")})},submitResults:function(e,r,i){Object.assign(e,t.additionalSubmissionParameters);var s=JSON.stringify(e);n.debug("Submit size: "+s.length);var a=void 0;fetch(t.controlServerURL+t.controlServerResultResource,{method:"POST",headers:o,body:s}).then(function(e){return e.json()}).then(function(t){a=t,n.debug(e.test_uuid),r(!0)}).catch(function(e){a=e,n.error("error submitting results"),i(!1)}).finally(function(){null!==_submissionCallback&&"function"==typeof _submissionCallback&&_submissionCallback({response:a,request:e})})}}};
"use strict";function RMBTIntermediateResult(){}Object.defineProperty(exports,"__esModule",{value:!0});var TestEnvironment=exports.TestEnvironment=function(){var e=null,t=null;return{getTestVisualization:function(){return e},getGeoTracker:function(){return t},init:function(r,n){void 0===r&&(r=new TestVisualization),void 0===n&&(n=new GeoTracker),e=r,t=n}}}(),TestState={WAIT:"WAIT",INIT:"INIT",INIT_DOWN:"INIT_DOWN",PING:"PING",DOWN:"DOWN",CONNECT_UPLOAD:"CONNECT_UPLOAD",INIT_UP:"INIT_UP",UP:"UP",END:"END",ERROR:"ERROR",ABORTED:"ABORTED",LOCATE:"LOCATE",LOCABORTED:"LOCABORTED",SPEEDTEST_END:"SPEEDTEST_END",QOS_TEST_RUNNING:"QOS_TEST_RUNNING",QOS_END:"QOS_END"};RMBTIntermediateResult.prototype.setLogValues=function(){var e=function(e){return e<1e4?0:(2+Math.log(e/1e6/Math.LN10))/4};this.downBitPerSecLog=e(downBitPerSec),this.upBitPerSecLog=e(upBitPerSec)},RMBTIntermediateResult.prototype.pingNano=-1,RMBTIntermediateResult.prototype.downBitPerSec=-1,RMBTIntermediateResult.prototype.upBitPerSec=-1,RMBTIntermediateResult.prototype.status=TestState.INIT,RMBTIntermediateResult.prototype.progress=0,RMBTIntermediateResult.prototype.downBitPerSecLog=-1,RMBTIntermediateResult.prototype.upBitPerSecLog=-1,RMBTIntermediateResult.prototype.remainingWait=-1;
"use strict";var TestVisualization=function(){function t(t,s){this.successCallback=t,this.errorCallback=s}return t.prototype.setRMBTTest=function(t){},t.prototype.updateInfo=function(t,s,a,c,o){},t.prototype.setStatus=function(t){if("ERROR"===t||"ABORTED"===t){if(this.errorCallback){var s=this.errorCallback;this.errorCallback=null,s()}}else if("END"===t&&null!==_successCallback){var s=this.successCallback;this.successCallback=null,s()}},t.prototype.setLocation=function(t,s){},t.prototype.startTest=function(){},t}();
"use strict";function RMBTTestThread(t){var e=log.getLogger("rmbtws"),o={},s=t;return{setState:function(t){this.state=t,e.debug(this.id+": reached state: "+t);var r=this;s.await(function(){if(e.debug(r.id+": all threads reached state: "+t),void 0!==o[t]&&null!==o[t]){(0,o[t])()}else e.info(r.id+": no callback registered for state: "+t)})},onStateEnter:function(t,e){o[t]=e},retriggerState:function(){setState(this.state)},triggerNextState:function(){var t=[TestState.INIT,TestState.INIT_DOWN,TestState.PING,TestState.DOWN,TestState.CONNECT_UPLOAD,TestState.INIT_UP,TestState.UP,TestState.END];if(this.state!==TestState.END){var o=t[t.indexOf(this.state)+1];e.debug(this.id+": triggered state "+o),this.setState(o)}},id:-1,socket:null,result:new RMBTThreadTestResult}}function RMBTTestResult(){this.pings=[],this.speedItems=[],this.threads=[]}function RMBTThreadTestResult(){this.down=[],this.up=[],this.pings=[]}function RMBTPingResult(){}Object.defineProperty(exports,"__esModule",{value:!0});var RMBTTestConfig=exports.RMBTTestConfig=function(){function t(t,e,o){this.language=t,this.controlServerURL=e+"/"+o,"undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone&&(this.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone.replace("Europe/Berlin","Europe/Vienna"))}return t.prototype.version="0.3",t.prototype.language,t.prototype.uuid="",t.prototype.type="DESKTOP",t.prototype.version_code="0.3",t.prototype.client_version="0.3",t.prototype.client_software_version="0.9.1",t.prototype.os_version=1,t.prototype.platform="RMBTws",t.prototype.model="Websocket",t.prototype.product="Chrome",t.prototype.client="RMBTws",t.prototype.timezone="Europe/Vienna",t.prototype.controlServerURL,t.prototype.controlServerRegistrationResource="/testRequest",t.prototype.controlServerResultResource="/result",t.prototype.controlServerDataCollectorResource="/requestDataCollector",t.prototype.pretestDurationMs=2e3,t.prototype.savedChunks=4,t.prototype.measurementPointsTimespan=40,t.prototype.numPings=10,t.prototype.doPingIntervalMilliseconds=-1,t.prototype.downloadThreadsLimitsMbit={0:1,1:3,100:5},t.prototype.uploadThreadsLimitsMbit={0:1,30:2,80:3,150:5},t.prototype.userServerSelection=void 0!==window.userServerSelection?userServerSelection:0,t.prototype.additionalRegistrationParameters={},t.prototype.additionalSubmissionParameters={},t}(),RMBTControlServerRegistrationResponse=function(){function t(t){Object.assign(this,t),this.test_duration=parseInt(t.test_duration)}return t.prototype.client_remote_ip,t.prototype.provider,t.prototype.test_server_encryption="",t.prototype.test_numthreads,t.prototype.test_server_name,t.prototype.test_uuid,t.prototype.test_id,t.prototype.test_token,t.prototype.test_server_address,t.prototype.test_duration,t.prototype.result_url,t.prototype.test_wait,t.prototype.test_server_port,t}();RMBTTestResult.prototype.addThread=function(t){this.threads.push(t)},RMBTTestResult.prototype.ip_local=null,RMBTTestResult.prototype.ip_server=null,RMBTTestResult.prototype.port_remote=null,RMBTTestResult.prototype.num_threads=null,RMBTTestResult.prototype.encryption="NONE",RMBTTestResult.prototype.ping_shortest=-1,RMBTTestResult.prototype.ping_median=-1,RMBTTestResult.prototype.client_version=null,RMBTTestResult.prototype.pings=[],RMBTTestResult.prototype.speed_download=-1,RMBTTestResult.prototype.speed_upload=-1,RMBTTestResult.prototype.speedItems=[],RMBTTestResult.prototype.bytes_download=-1,RMBTTestResult.prototype.nsec_download=-1,RMBTTestResult.prototype.bytes_upload=-1,RMBTTestResult.prototype.nsec_upload=-1,RMBTTestResult.prototype.totalDownBytes=-1,RMBTTestResult.prototype.totalUpBytes=-1,RMBTTestResult.prototype.beginTime=-1,RMBTTestResult.prototype.geoLocations=[],RMBTTestResult.calculateOverallSpeedFromMultipleThreads=function(t,e){for(var o=t.length,s=1/0,r=0;r<o;r++){var p=e(t[r]);p.length>0&&p[p.length-1].duration<s&&(s=p[p.length-1].duration)}for(var n=0,i=0;i<o;i++){var a=t[i],l=e(a),u=l.length;if(null!==a&&u>0){for(var d=u,T=0;T<u;T++)if(l[T].duration>=s){d=T;break}var R=void 0;if(l[d].duration===s)R=l[u-1].bytes;else{var y=0===d?0:l[d-1].bytes,h=l[d].bytes,c=h-y,v=0===d?0:l[d-1].duration,g=l[d].duration,_=g-v,M=s-v,B=M/_,f=Math.round(c*B);f<0&&(f=0),R=y+f}n+=R}}return{bytes:n,nsec:s,speed:8*n/(s/1e9)}},RMBTTestResult.prototype.calculateAll=function(){for(var t=0;t<this.threads.length;t++){var e=this.threads[t].down;if(e.length>0)for(var o=0;o<e.length;o++)this.speedItems.push({direction:"download",thread:t,time:e[o].duration,bytes:e[o].bytes})}var s=RMBTTestResult.calculateOverallSpeedFromMultipleThreads(this.threads,function(t){return t.down});this.speed_download=s.speed/1e3,this.bytes_download=s.bytes,this.nsec_download=s.nsec;for(var r=0;r<this.threads.length;r++){var p=this.threads[r].up;if(p.length>0)for(var n=0;n<p.length;n++)this.speedItems.push({direction:"upload",thread:r,time:p[n].duration,bytes:p[n].bytes})}s=RMBTTestResult.calculateOverallSpeedFromMultipleThreads(this.threads,function(t){return t.up}),this.speed_upload=s.speed/1e3,this.bytes_upload=s.bytes,this.nsec_upload=s.nsec;for(var i=this.threads[0].pings,a=0;a<i.length;a++)this.pings.push({value:i[a].client,value_server:i[a].server,time_ns:i[a].timeNs});for(var l=0;l<this.geoLocations.length;l++){var u=this.geoLocations[l];u.time_ns=1e6*(u.tstamp-this.beginTime)}},RMBTThreadTestResult.prototype.down=null,RMBTThreadTestResult.prototype.up=null,RMBTThreadTestResult.prototype.pings=null,RMBTThreadTestResult.prototype.totalDownBytes=-1,RMBTThreadTestResult.prototype.totalUpBytes=-1,RMBTPingResult.prototype.client=-1,RMBTPingResult.prototype.server=-1,RMBTPingResult.prototype.timeNs=-1;var RMBTError={NOT_SUPPORTED:"WebSockets are not supported",SOCKET_INIT_FAILED:"WebSocket initialization failed",CONNECT_FAILED:"connection to test server failed",SUBMIT_FAILED:"Error during submission of test results",REGISTRATION_FAILED:"Error during test registration"};
"use strict";function nowMs(){return window.performance.now()}function nowNs(){return Math.round(1e6*window.performance.now())}function CyclicBarrier(n){var o=n,e=[],r=function(){var n=e.slice();e=[],self.setTimeout(function(){for(var e=0;e<o;e++)n[e]()},1)};return{await:function(n){e.push(n),e.length===o&&r()}}}!function(){if(Date.now||(Date.now=function(){return(new Date).getTime()}),void 0===window.performance&&(window.performance={}),!window.performance.now||void 0===window.performance.now){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}(),Math.median=function(n){n.sort(function(n,o){return n-o});var o=Math.floor(n.length/2);return n.length%2?n[o]:(n[o-1]+n[o])/2},Math.log10=Math.log10||function(n){return Math.log(n)/Math.LN10},self.log=self.log||{debug:function(){var n;(n=console).log.apply(n,arguments)},trace:function(){console.trace()},info:function(){var n;(n=console).info.apply(n,arguments)},warn:function(){var n;(n=console).warn.apply(n,arguments)},error:function(){var n;(n=console).error.apply(n,arguments)},setLevel:function(){},getLogger:function(){return log}},"function"!=typeof Object.assign&&(Object.assign=function(n,o){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),r=1;r<arguments.length;r++){var t=arguments[r];if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}),void 0===document.hidden&&(document.hidden=!1);


},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L3JtYnR3cy5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTUtMjAxNyBUaG9tYXMgU2NocmVpYmVyXG4gKiBDb3B5cmlnaHQgMjAxNy0yMDE5IFJ1bmRmdW5rIHVuZCBUZWxla29tIFJlZ3VsaWVydW5ncy1HbWJIIChSVFItR21iSClcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIFRoZSBzb3VyY2UgY29kZSBmb3IgdGhpcyBwcm9qZWN0IGlzIGF2YWlsYWJsZSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL3J0ci1uZXR0ZXN0L3JtYnR3c1xuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsbj1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIFJNQlRUZXN0KGUsdCl7ZnVuY3Rpb24gbihlKXt2b2lkIDAhPT13JiZ3PT09ZXx8KHc9ZSxNPW5vd01zKCksRSYmRShlKSl9ZnVuY3Rpb24gcyhlLHQscyl7dmFyIGk9KGUudGVzdF9zZXJ2ZXJfZW5jcnlwdGlvbj9cIndzczovL1wiOlwid3M6Ly9cIikrZS50ZXN0X3NlcnZlcl9hZGRyZXNzK1wiOlwiK2UudGVzdF9zZXJ2ZXJfcG9ydDtwLmRlYnVnKGkpO3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJue0lHTk9SRTpmdW5jdGlvbigpe30sQ0FMTEdMT0JBTEhBTkRMRVI6ZnVuY3Rpb24oZSl7ZSYmcC5lcnJvcihcImNvbm5lY3Rpb24gY2xvc2VkXCIsZSkseChSTUJURXJyb3IuQ09OTkVDVF9GQUlMRUQpfSxUUllSRUNPTk5FQ1Q6ZnVuY3Rpb24oKXt4KFJNQlRFcnJvci5DT05ORUNUX0ZBSUxFRCl9fX0oKTt0Lm9uU3RhdGVFbnRlcihUZXN0U3RhdGUuSU5JVF9ET1dOLGZ1bmN0aW9uKCl7bihUZXN0U3RhdGUuSU5JVF9ET1dOKSxwLmRlYnVnKHQuaWQrXCI6IHN0YXJ0IHNob3J0IGRvd25sb2FkXCIpLG09XyxhKHQsUy5wcmV0ZXN0RHVyYXRpb25Ncyl9KSx0Lm9uU3RhdGVFbnRlcihUZXN0U3RhdGUuUElORyxmdW5jdGlvbigpe24oVGVzdFN0YXRlLlBJTkcpLHAuZGVidWcodC5pZCtcIjogc3RhcnRpbmcgcGluZ1wiKSwwPT09dC5pZD91KHQpOnQudHJpZ2dlck5leHRTdGF0ZSgpfSksdC5vblN0YXRlRW50ZXIoVGVzdFN0YXRlLkRPV04sZnVuY3Rpb24oKXtpZihuKFRlc3RTdGF0ZS5ET1dOKSxELmxlbmd0aD4wKXt2YXIgcz1yKEQsUy5kb3dubG9hZFRocmVhZHNMaW1pdHNNYml0LCExKTtDPXMubnVtVGhyZWFkcyxJJiYobT1zLmNodW5rU2l6ZSksRD1bXX10LmlkPEM/Yyh0LGUudGVzdF9kdXJhdGlvbik6KHQuc29ja2V0Lm9uZXJyb3I9ZC5JR05PUkUsdC5zb2NrZXQub25jbG9zZT1kLklHTk9SRSx0LnRyaWdnZXJOZXh0U3RhdGUoKSl9KSx0Lm9uU3RhdGVFbnRlcihUZXN0U3RhdGUuQ09OTkVDVF9VUExPQUQsZnVuY3Rpb24oKXtuKFRlc3RTdGF0ZS5JTklUX1VQKSx0LnNvY2tldC5vbmVycm9yPWQuSUdOT1JFLHQuc29ja2V0Lm9uY2xvc2U9ZC5JR05PUkUsdC5zb2NrZXQuY2xvc2UoKSxvKHQsaSxlLnRlc3RfdG9rZW4sZC5DQUxMR0xPQkFMSEFORExFUil9KSx0Lm9uU3RhdGVFbnRlcihUZXN0U3RhdGUuSU5JVF9VUCxmdW5jdGlvbigpe209XyxsKHQsUy5wcmV0ZXN0RHVyYXRpb25Ncyl9KSx0Lm9uU3RhdGVFbnRlcihUZXN0U3RhdGUuVVAsZnVuY3Rpb24oKXtpZihuKFRlc3RTdGF0ZS5VUCksRC5sZW5ndGg+MCl7dmFyIHM9cihELFMudXBsb2FkVGhyZWFkc0xpbWl0c01iaXQsITApO1U9cy5udW1UaHJlYWRzLEkmJihtPXMuY2h1bmtTaXplKSxEPVtdfXQuaWQ8VT9UKHQsZS50ZXN0X2R1cmF0aW9uKToodC5zb2NrZXQub25lcnJvcj1kLklHTk9SRSx0LnNvY2tldC5vbmNsb3NlPWQuSUdOT1JFLHQuc29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuQ0xPU0VEJiZ0LnNvY2tldC5jbG9zZSgpLHQudHJpZ2dlck5leHRTdGF0ZSgpKX0pLHQub25TdGF0ZUVudGVyKFRlc3RTdGF0ZS5FTkQsZnVuY3Rpb24oKXt0LnNvY2tldC5yZWFkeVN0YXRlIT09V2ViU29ja2V0LkNMT1NFRCYmdC5zb2NrZXQuY2xvc2UoKSwwPT09dC5pZCYmcygpfSksdC5zZXRTdGF0ZShUZXN0U3RhdGUuSU5JVCksbihUZXN0U3RhdGUuSU5JVCksbyh0LGksZS50ZXN0X3Rva2VuLGQuQ0FMTEdMT0JBTEhBTkRMRVIpfWZ1bmN0aW9uIG8oZSx0LG4scyl7dHJ5e2Uuc29ja2V0PW5ldyBXZWJTb2NrZXQodCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgeChSTUJURXJyb3IuU09DS0VUX0lOSVRfRkFJTEVEKX1lLnNvY2tldC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixlLnNvY2tldC5vbmVycm9yPXMsZS5zb2NrZXQub25jbG9zZT1zLGUuc29ja2V0Lm9ubWVzc2FnZT1mdW5jdGlvbih0KXtpZigwPT09dC5kYXRhLmluZGV4T2YoXCJDSFVOS1NJWkVcIikpe3ZhciBvPXQuZGF0YS50cmltKCkuc3BsaXQoXCIgXCIpOzQ9PT1vLmxlbmd0aD8oaD1wYXJzZUludChvWzFdKSxfPXBhcnNlSW50KG9bMl0pLHY9cGFyc2VJbnQob1szXSkpOihoPXBhcnNlSW50KG9bMV0pLF89aCkscC5kZWJ1ZyhlLmlkK1wiOiBDaHVua3NpemVzOiBtaW4gXCIrXytcIiwgbWF4OiBcIit2K1wiLCBkZWZhdWx0OiBcIitoKX1lbHNlIGlmKDA9PT10LmRhdGEuaW5kZXhPZihcIlJNQlR2XCIpKXt2YXIgcj10LmRhdGEuc3Vic3RyaW5nKDUpLnRyaW0oKTtTLmNsaWVudF92ZXJzaW9uPXIsMD09PXIuaW5kZXhPZihcIjEuXCIpP0k9ITA6MD09PXIuaW5kZXhPZihcIjAuM1wiKT9JPSExOnAud2FybihcInVua25vd24gc2VydmVyIHZlcnNpb246IFwiK3IpfWVsc2VcIkFDQ0VQVCBUT0tFTiBRVUlUXFxuXCI9PT10LmRhdGE/ZS5zb2NrZXQuc2VuZChcIlRPS0VOIFwiK24rXCJcXG5cIik6XCJPS1xcblwiPT09dC5kYXRhJiZlLnN0YXRlPT09VGVzdFN0YXRlLklOSVQ/cC5kZWJ1ZyhlLmlkK1wiOiBUb2tlbiBhY2NlcHRlZFwiKTpcIkVSUlxcblwiPT09dC5kYXRhPyhzKCkscC5lcnJvcihcImdvdCBlcnJvciBtc2dcIikpOjA9PT10LmRhdGEuaW5kZXhPZihcIkFDQ0VQVCBHRVRDSFVOS1NcIikmJmUudHJpZ2dlck5leHRTdGF0ZSgpfX1mdW5jdGlvbiByKGUsdCxuKXtHPWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0pLHAuZGVidWcoXCJ0b3RhbDogY2lyY2EgXCIrRy8xZTMrXCIgS0Ivc2VjXCIpLHAuZGVidWcoXCJ0b3RhbDogY2lyY2EgXCIrOCpHLzFlNitcIiBNQml0L3NlY1wiKTt2YXIgcz04KkcvMWU2LG89MDtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3M+ZSYmKG89dFtlXSl9KSxvPU1hdGgubWluKEIsbykscC5kZWJ1ZyhcInNldCBudW1iZXIgb2YgdGhyZWFkcyB0byBiZSB1c2VkIGluIHVwY29taW5nIHNwZWVkIHRlc3QgdG86IFwiK28pO3ZhciByPUcvKDFlMy8oUy5tZWFzdXJlbWVudFBvaW50c1RpbWVzcGFuLzIpKTtpZihyLT1yJTEwMjQscj1NYXRoLm1heChfLHIpLHI9TWF0aC5taW4odixyKSxwLmRlYnVnKFwiY2FsY3VsYXRlZCBjaHVua3NpemUgZm9yIHVwY29taW5nIHNwZWVkIHRlc3QgXCIrci8xMDI0K1wiIEtCXCIpLG4pe3ZhciBhPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtPYmplY3Qua2V5cyh5KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe01hdGguYWJzKHItZSk8TWF0aC5hYnMoci1hKT8oXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXBhcnNlSW50KGUpKSxhPWUpOihkZWxldGUgeVtlXSxkZWxldGUgTFtlXSl9KSxyPWEscC5kZWJ1ZyhcImZhbGxiYWNrIHRvIGV4aXN0aW5nIGNodW5rc2l6ZSBmb3IgdXBjb21pbmcgc3BlZWQgdGVzdCBcIityLzEwMjQrXCIgS0JcIil9cmV0dXJue251bVRocmVhZHM6byxjaHVua1NpemU6cixieXRlc1BlclNlY3M6R319ZnVuY3Rpb24gYShlLHQpe3ZhciBuPWUuc29ja2V0Lm9ubWVzc2FnZSxzPW5vd01zKCksbz0xLHI9MCxhPW07IWZ1bmN0aW9uIHUoKXtpKGUsbyxhLGZ1bmN0aW9uKGkpe3IrPW8qYSxwLmRlYnVnKGUuaWQrXCI6IFwiK2kpO3ZhciBkPXBhcnNlSW50KGkuc3Vic3RyaW5nKDUpKTtub3dNcygpLXM+dD8oRC5wdXNoKG8qYS8oZC8xZTkpKSxlLnNvY2tldC5vbm1lc3NhZ2U9bik6bzw4fHwhST8obyo9Mix1KCkpOihhPU1hdGgubWluKDIqYSx2KSx1KCkpfSl9KCl9ZnVuY3Rpb24gaShlLHQsbixzKXt2YXIgbz1lLnNvY2tldCxyPXQsYT1tKnQsaT0wLHU9bnVsbCxkPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgpO3JldHVybiBuLnNldChlLDApLG4uc2V0KHQsZS5sZW5ndGgpLG59LGM9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZGF0YSl7dmFyIHQ9ITE7dT1udWxsPT09dT9uZXcgVWludDhBcnJheShlLmRhdGEpOmQodSxuZXcgVWludDhBcnJheShlLmRhdGEpKSxpKz1lLmRhdGEuYnl0ZUxlbmd0aCx1Lmxlbmd0aD09PW4mJihyLS0sdD0hMCksdCYmMjU1PT09dVt1Lmxlbmd0aC0xXT8oby5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO3ModCl9LG8uc2VuZChcIk9LXFxuXCIpLExbbl09dS5idWZmZXIsdT1udWxsKTooeS5oYXNPd25Qcm9wZXJ0eShuKXx8KHlbbl09W10pLHQmJih5W25dLmxlbmd0aDxTLnNhdmVkQ2h1bmtzJiZ5W25dLnB1c2godS5idWZmZXIpLHU9bnVsbCkpfX07by5vbm1lc3NhZ2U9YyxwLmRlYnVnKGUuaWQrXCI6IGRvd25sb2FkaW5nIFwiK3QrXCIgY2h1bmtzLCBcIithLzFlMytcIiBLQlwiKTt2YXIgbD1cIkdFVENIVU5LUyBcIit0KyhuIT09aD9cIiBcIituOlwiXCIpK1wiXFxuXCI7by5zZW5kKGwpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5zb2NrZXQub25tZXNzYWdlLG49Uy5udW1QaW5ncyxzPXBlcmZvcm1hbmNlLm5vdygpO2QoZSxmdW5jdGlvbiBvKHIpe2lmKGUucmVzdWx0LnBpbmdzLnB1c2gociksYi5waW5ncz1bXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGUucmVzdWx0LnBpbmdzKSksbj09PVMubnVtUGluZ3MtMSYmKE8uZHVyYXRpb25QaW5nTXM9KGUucmVzdWx0LnBpbmdzWzFdLnRpbWVOcy1lLnJlc3VsdC5waW5nc1swXS50aW1lTnMpLzFlNipTLm51bVBpbmdzLHAuZGVidWcoZS5pZCtcIjogUElORyBwaGFzZSB3aWxsIHRha2UgYXBwcm94IFwiK08uZHVyYXRpb25QaW5nTXMrXCIgbXNcIikpLHAuZGVidWcoZS5pZCtcIjogUElORyBcIityLmNsaWVudCtcIiBucyBjbGllbnQ7IFwiK3Iuc2VydmVyK1wiIG5zIHNlcnZlclwiKSxuLS0sUy5kb1BpbmdJbnRlcnZhbE1pbGxpc2Vjb25kcz4wJiYwPT09bil7cGVyZm9ybWFuY2Uubm93KCktczxTLmRvUGluZ0ludGVydmFsTWlsbGlzZWNvbmRzJiYobj0xKX1pZihuPjApZS5zb2NrZXQub25tZXNzYWdlPWZ1bmN0aW9uKHQpe1wiQUNDRVBUIEdFVENIVU5LUyBHRVRUSU1FIFBVVCBQVVROT1JFU1VMVCBQSU5HIFFVSVRcXG5cIj09PXQuZGF0YT9kKGUsbyk6cC5lcnJvcihcInVuZXhwZWN0ZWQgZXJyb3IgZHVyaW5nIHBpbmcgdGVzdFwiKX07ZWxzZXtmb3IodmFyIGE9W10saT0wO2k8ZS5yZXN1bHQucGluZ3MubGVuZ3RoO2krKylhLnB1c2goZS5yZXN1bHQucGluZ3NbaV0uY2xpZW50KTtiLnBpbmdfY2xpZW50X21lZGlhbj1NYXRoLm1lZGlhbihhKSxiLnBpbmdfY2xpZW50X3Nob3J0ZXN0PU1hdGgubWluLmFwcGx5KE1hdGgsYSk7Zm9yKHZhciB1PVtdLGM9MDtjPGUucmVzdWx0LnBpbmdzLmxlbmd0aDtjKyspdS5wdXNoKGUucmVzdWx0LnBpbmdzW2NdLnNlcnZlcik7Yi5waW5nX3NlcnZlcl9tZWRpYW49TWF0aC5tZWRpYW4odSksYi5waW5nX3NlcnZlcl9zaG9ydGVzdD1NYXRoLm1pbi5hcHBseShNYXRoLHUpLHAuZGVidWcoZS5pZCtcIjogbWVkaWFuIGNsaWVudDogXCIrTWF0aC5yb3VuZChiLnBpbmdfY2xpZW50X21lZGlhbi8xZTMpLzFlMytcIiBtczsgbWVkaWFuIHNlcnZlcjogXCIrTWF0aC5yb3VuZChiLnBpbmdfc2VydmVyX21lZGlhbi8xZTMpLzFlMytcIiBtc1wiKSxwLmRlYnVnKGUuaWQrXCI6IHNob3J0ZXN0IGNsaWVudDogXCIrTWF0aC5yb3VuZChiLnBpbmdfY2xpZW50X3Nob3J0ZXN0LzFlMykvMWUzK1wiIG1zOyBzaG9ydGVzdCBzZXJ2ZXI6IFwiK01hdGgucm91bmQoYi5waW5nX3NlcnZlcl9zaG9ydGVzdC8xZTMpLzFlMytcIiBtc1wiKSxlLnNvY2tldC5vbm1lc3NhZ2U9dH19KX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49dm9pZCAwLHM9dm9pZCAwLG89ZnVuY3Rpb24obyl7aWYoXCJQT05HXFxuXCI9PT1vLmRhdGEpe3ZhciByPW5vd05zKCk7cz1yLW4sZS5zb2NrZXQuc2VuZChcIk9LXFxuXCIpfWVsc2UgaWYoMD09PW8uZGF0YS5pbmRleE9mKFwiVElNRVwiKSl7dmFyIGE9bmV3IFJNQlRQaW5nUmVzdWx0O2EuY2xpZW50PXMsYS5zZXJ2ZXI9cGFyc2VJbnQoby5kYXRhLnN1YnN0cmluZyg1KSksYS50aW1lTnM9bix0KGEpfX07ZS5zb2NrZXQub25tZXNzYWdlPW8sbj1ub3dOcygpLGUuc29ja2V0LnNlbmQoXCJQSU5HXFxuXCIpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1lLnNvY2tldC5vbm1lc3NhZ2Uscz0wLG89MCxyPS0xLGE9dm9pZCAwLGk9dm9pZCAwLHU9bnVsbCxkPW51bGw7YT13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihudWxsIT09dSYmciE9PW8pe3I9bzt2YXIgdD1ub3dOcygpO3AuZGVidWcoZS5pZCtcIjogXCIraStcInxcIitTLm1lYXN1cmVtZW50UG9pbnRzVGltZXNwYW4rXCJ8XCIrdCtcInxcIitvKTt2YXIgYz1uZXcgVWludDhBcnJheSh1LHUuYnl0ZUxlbmd0aC0xLDEpLGc9ZC1sO2UucmVzdWx0LmRvd24ucHVzaCh7ZHVyYXRpb246ZyxieXRlczpzfSksaT10LGNbMF0+PTI1NSYmKHAuZGVidWcoZS5pZCtcIjogcmVjZWl2ZWQgZW5kIGNodW5rXCIpLHdpbmRvdy5jbGVhckludGVydmFsKGEpLGUuc29ja2V0Lm9ubWVzc2FnZT1mdW5jdGlvbih0KXtwLmRlYnVnKHQuZGF0YSksZS5zb2NrZXQub25tZXNzYWdlPW59LGUuc29ja2V0LnNlbmQoXCJPS1xcblwiKSl9fSxTLm1lYXN1cmVtZW50UG9pbnRzVGltZXNwYW4pO3ZhciBjPWZ1bmN0aW9uKGUpe28rKyxzKz1lLmRhdGEuYnl0ZUxlbmd0aCxkPW5vd05zKCksdT1lLmRhdGF9O2Uuc29ja2V0Lm9ubWVzc2FnZT1jO3ZhciBsPW5vd05zKCk7ZS5zb2NrZXQuc2VuZChcIkdFVFRJTUUgXCIrdCsobSE9PWg/XCIgXCIrbTpcIlwiKStcIlxcblwiKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49ZS5zb2NrZXQub25tZXNzYWdlLHM9bm93TXMoKSxvPTEscj0wLGE9bTt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPW5vd01zKCksbj1lLXM7cC5kZWJ1ZyhcImRpZmY6XCIrKG4tdCkrXCIgKFwiKyhuLXQpL3QrXCIgJSlcIil9LHQpOyFmdW5jdGlvbiBpKCl7ZyhlLG8sYSxmdW5jdGlvbih1KXtpZihyKz1vKmEscC5kZWJ1ZyhlLmlkK1wiOiBcIit1KSxub3dNcygpLXM+dCl7ZS5zb2NrZXQub25tZXNzYWdlPW47dmFyIGQ9cGFyc2VJbnQodS5zdWJzdHJpbmcoNSkpO0QucHVzaChvKmEvKGQvMWU5KSl9ZWxzZXt2YXIgYz0yKmE7bzw4fHwhTC5oYXNPd25Qcm9wZXJ0eShjKXx8IUk/KG8qPTIsaSgpKTooYT1NYXRoLm1pbigyKmEsdiksaSgpKX19KX0oKX1mdW5jdGlvbiBnKGUsdCxuLHMpe3ZhciBvPWUuc29ja2V0O28ub25tZXNzYWdlPWZ1bmN0aW9uKGUpezAhPT1lLmRhdGEuaW5kZXhPZihcIk9LXCIpJiYwIT09ZS5kYXRhLmluZGV4T2YoXCJBQ0NFUFRcIikmJnMoZS5kYXRhKX0scC5kZWJ1ZyhlLmlkK1wiOiB1cGxvYWRpbmcgXCIrdCtcIiBjaHVua3MsIFwiK24qdC8xZTMrXCIgS0JcIiksby5zZW5kKFwiUFVUTk9SRVNVTFRcIisoST9cIiBcIituOlwiXCIpK1wiXFxuXCIpO2Zvcih2YXIgcj0wO3I8dDtyKyspe3ZhciBhPXZvaWQgMDthPXI9PT10LTE/TFtuXTp5W25dWzBdLG8uc2VuZChhKX19ZnVuY3Rpb24gVChlLHQpe3ZhciBuPWUuc29ja2V0Lm9ubWVzc2FnZSxzPUcvMi9VLG89MS41KkcvVSxyPWRvY3VtZW50LmhpZGRlbj9vOnMsYT1mdW5jdGlvbigpe3I9ZG9jdW1lbnQuaGlkZGVuP286cyxwLmRlYnVnKFwiZG9jdW1lbnQgdmlzaWJpbGl0eSBjaGFuZ2VkIHRvOiBcIitkb2N1bWVudC5oaWRkZW4pfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGEpO3ZhciBpPU1hdGguY2VpbChHL1UvbSksdT0hMSxkPSEwLGM9LTEsbD0wLGc9ZnVuY3Rpb24gcygpe3V8fChwLmRlYnVnKGUuaWQrXCI6IGlzIDcuMiBzZWMgaW4sIGdvdCBkYXRhIGZvciBcIitjKSxjPDFlOSp0JiZsPDNlMz8od2luZG93LnNldFRpbWVvdXQocywyNTApLGwrPTI1MCk6KHAuZGVidWcoZS5pZCtcIjogZGlkbid0IGZpbmlzaCwgdGltZW91dCBleHRlbmRlZCBieSBcIitsK1wiIG1zLCBsYXN0IGluZm8gZm9yIFwiK2MpLGUuc29ja2V0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt9LGUuc29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24oKXt9LGUuc29ja2V0LmNsb3NlKCksZS5zb2NrZXQub25tZXNzYWdlPW4scC5kZWJ1ZyhlLmlkK1wiOiBzb2NrZXQgbm93IGNsb3NlZDogXCIrZS5zb2NrZXQucmVhZHlTdGF0ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixhKSxlLnRyaWdnZXJOZXh0U3RhdGUoKSkpfSxUPWZ1bmN0aW9uIHQoKXtpZihlLnNvY2tldC5idWZmZXJlZEFtb3VudDxyKWZvcih2YXIgbj0wO248aTtuKyspZS5zb2NrZXQuc2VuZCh5W21dW24leVttXS5sZW5ndGhdKTtpZighZClyZXR1cm4hMTtzZXRUaW1lb3V0KHQsMCl9O3dpbmRvdy5zZXRUaW1lb3V0KGcsMWUzKnQrMjAwKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Q9ITEsZS5zb2NrZXQub25jbG9zZT1mdW5jdGlvbigpe30sZS5zb2NrZXQuc2VuZChMW21dKSxlLnNvY2tldC5zZW5kKFwiUVVJVFxcblwiKX0sMWUzKnQpLHAuZGVidWcoZS5pZCtcIjogc2V0IHRpbWVvdXRcIik7dmFyIGY9MWU2KlMubWVhc3VyZW1lbnRQb2ludHNUaW1lc3Bhbix2PS9USU1FIChcXGQrKSBCWVRFUyAoXFxkKykvLF89L1RJTUUgKFxcZCspLyxJPWZ1bmN0aW9uKHQpe1wiT0tcXG5cIj09PXQuZGF0YSYmVCgpO3ZhciBzPXYuZXhlYyh0LmRhdGEpO2lmKG51bGwhPT1zKXt2YXIgbz17ZHVyYXRpb246cGFyc2VJbnQoc1sxXSksYnl0ZXM6cGFyc2VJbnQoc1syXSl9O28uZHVyYXRpb24tYz5mJiYoYz1vLmR1cmF0aW9uLGUucmVzdWx0LnVwLnB1c2gobykpfWVsc2UgbnVsbCE9PShzPV8uZXhlYyh0LmRhdGEpKSYmKHU9ITAscC5kZWJ1ZyhcIlVwbG9hZCBkdXJhdGlvbjogXCIrc1sxXSksZS5zb2NrZXQub25tZXNzYWdlPW4sZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixhKSl9O2Uuc29ja2V0Lm9ubWVzc2FnZT1JLGUuc29ja2V0LnNlbmQoXCJQVVRcIisobSE9PWg/XCIgXCIrbTpcIlwiKStcIlxcblwiKX1mdW5jdGlvbiBmKGUpe3JldHVybntjbGllbnRfbGFuZ3VhZ2U6XCJkZVwiLGNsaWVudF9uYW1lOlMuY2xpZW50LGNsaWVudF91dWlkOlMudXVpZCxjbGllbnRfdmVyc2lvbjpTLmNsaWVudF92ZXJzaW9uLGNsaWVudF9zb2Z0d2FyZV92ZXJzaW9uOlMuY2xpZW50X3NvZnR3YXJlX3ZlcnNpb24sZ2VvTG9jYXRpb25zOmIuZ2VvTG9jYXRpb25zLG1vZGVsOlMubW9kZWwsbmV0d29ya190eXBlOjk4LHBsYXRmb3JtOlMucGxhdGZvcm0scHJvZHVjdDpTLnByb2R1Y3QscGluZ3M6Yi5waW5ncyx0ZXN0X2J5dGVzX2Rvd25sb2FkOmIuYnl0ZXNfZG93bmxvYWQsdGVzdF9ieXRlc191cGxvYWQ6Yi5ieXRlc191cGxvYWQsdGVzdF9uc2VjX2Rvd25sb2FkOmIubnNlY19kb3dubG9hZCx0ZXN0X25zZWNfdXBsb2FkOmIubnNlY191cGxvYWQsdGVzdF9udW1fdGhyZWFkczpDLG51bV90aHJlYWRzX3VsOlUsdGVzdF9waW5nX3Nob3J0ZXN0OmIucGluZ19zZXJ2ZXJfc2hvcnRlc3QsdGVzdF9zcGVlZF9kb3dubG9hZDpiLnNwZWVkX2Rvd25sb2FkLHRlc3Rfc3BlZWRfdXBsb2FkOmIuc3BlZWRfdXBsb2FkLHRlc3RfdG9rZW46ZS50ZXN0X3Rva2VuLHRlc3RfdXVpZDplLnRlc3RfdXVpZCx0aW1lOmIuYmVnaW5UaW1lLHRpbWV6b25lOlMudGltZXpvbmUsdHlwZTpcIkRFU0tUT1BcIix2ZXJzaW9uX2NvZGU6XCIxXCIsc3BlZWRfZGV0YWlsOmIuc3BlZWRJdGVtcyx1c2VyX3NlcnZlcl9zZWxlY3Rpb246Uy51c2VyU2VydmVyU2VsZWN0aW9ufX12YXIgcD1sb2cuZ2V0TG9nZ2VyKFwicm1idHdzXCIpLG09bnVsbCx2PTQxOTQzMDQsXz0wLGg9NDA5NixJPSExLFM9dm9pZCAwLGs9dm9pZCAwLGI9bnVsbCxOPW51bGwsRT1udWxsLHc9VGVzdFN0YXRlLklOSVQsTT1udWxsLE89e2R1cmF0aW9uSW5pdE1zOjI1MDAsZHVyYXRpb25QaW5nTXM6MWU0LGR1cmF0aW9uVXBNczotMSxkdXJhdGlvbkRvd25NczotMX0sUD1uZXcgUk1CVEludGVybWVkaWF0ZVJlc3VsdCxSPVtdLHk9e30sTD17fSxBPW51bGwsQj0wLEM9MCxVPTAsRD1bXSxHPTA7dGhpcy5vbkVycm9yPWZ1bmN0aW9uKGUpe049ZX0sdGhpcy5vblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe0U9ZX07dmFyIHg9ZnVuY3Rpb24oZSl7aWYocC5kZWJ1ZyhcImVycm9yIG9jY3VycmVkIGR1cmluZyB3ZWJzb2NrZXQgdGVzdDpcIixlKSxlIT09Uk1CVEVycm9yLk5PVF9TVVBQT1JURUQmJm4oVGVzdFN0YXRlLkVSUk9SKSxudWxsIT09Til7dmFyIHQ9TjtOPW51bGwsdChlKX19O3RoaXMuc3RhcnRUZXN0PWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09d2luZG93LldlYlNvY2tldClyZXR1cm4gdm9pZCB4KFJNQlRFcnJvci5OT1RfU1VQUE9SVEVEKTtuKFRlc3RTdGF0ZS5JTklUKSxiPW5ldyBSTUJUVGVzdFJlc3VsdCxrLmdldERhdGFDb2xsZWN0b3JJbmZvKCksay5vYnRhaW5Db250cm9sU2VydmVyUmVnaXN0cmF0aW9uKGZ1bmN0aW9uKGUpe0I9cGFyc2VJbnQoZS50ZXN0X251bXRocmVhZHMpLEE9bmV3IEN5Y2xpY0JhcnJpZXIoQiksTy5kdXJhdGlvbkRvd25Ncz0xZTMqZS50ZXN0X2R1cmF0aW9uLE8uZHVyYXRpb25VcE1zPTFlMyplLnRlc3RfZHVyYXRpb24sbnVsbCE9PVRlc3RFbnZpcm9ubWVudC5nZXRUZXN0VmlzdWFsaXphdGlvbigpJiZUZXN0RW52aXJvbm1lbnQuZ2V0VGVzdFZpc3VhbGl6YXRpb24oKS51cGRhdGVJbmZvKGUudGVzdF9zZXJ2ZXJfbmFtZSxlLmNsaWVudF9yZW1vdGVfaXAsZS5wcm92aWRlcixlLnRlc3RfdXVpZCxlLm9wZW5fdGVzdF91dWlkKTt2YXIgdD1mdW5jdGlvbigpe3AuZGVidWcoXCJnb3QgZ2VvbG9jYXRpb24sIG9idGFpbmluZyB0b2tlbiBhbmQgd2Vic29ja2V0IGFkZHJlc3NcIik7dmFyIHQ9ZnVuY3Rpb24oKXtuKFRlc3RTdGF0ZS5JTklUKSxiLmJlZ2luVGltZT1EYXRlLm5vdygpO2Zvcih2YXIgdD0wO3Q8Qjt0Kyspe3ZhciByPW5ldyBSTUJUVGVzdFRocmVhZChBKTtyLmlkPXQsYi5hZGRUaHJlYWQoci5yZXN1bHQpLHMoZSxyLGZ1bmN0aW9uKCl7cC5pbmZvKFwiQWxsIHRlc3RzIGZpbmlzaGVkXCIpLG8uc3RvcCgpLGIuZ2VvTG9jYXRpb25zPW8uZ2V0UmVzdWx0cygpLGIuY2FsY3VsYXRlQWxsKCksay5zdWJtaXRSZXN1bHRzKGYoZSksZnVuY3Rpb24oKXtuKFRlc3RTdGF0ZS5FTkQpfSxmdW5jdGlvbigpe3goUk1CVEVycm9yLlNVQk1JVF9GQUlMRUQpfSl9KSxSLnB1c2gocil9fTswPT09ZS50ZXN0X3dhaXQ/dCgpOihwLmluZm8oXCJ0ZXN0IHNjaGVkdWxlZCBmb3Igc3RhcnQgaW4gXCIrZS50ZXN0X3dhaXQrXCIgc2Vjb25kKHMpXCIpLG4oVGVzdFN0YXRlLldBSVQpLHNlbGYuc2V0VGltZW91dChmdW5jdGlvbigpe3QoKX0sMWUzKmUudGVzdF93YWl0KSl9LG89dm9pZCAwO251bGwhPT1UZXN0RW52aXJvbm1lbnQuZ2V0R2VvVHJhY2tlcigpPyhvPVRlc3RFbnZpcm9ubWVudC5nZXRHZW9UcmFja2VyKCksdCgpKToobz1uZXcgR2VvVHJhY2tlcixwLmRlYnVnKFwiZ2V0dGluZyBnZW9sb2NhdGlvblwiKSxvLnN0YXJ0KGZ1bmN0aW9uKCl7dCgpfSxUZXN0RW52aXJvbm1lbnQuZ2V0VGVzdFZpc3VhbGl6YXRpb24oKSkpfSxmdW5jdGlvbigpe3goUk1CVEVycm9yLlJFR0lTVFJBVElPTl9GQUlMRUQpfSl9LHRoaXMuZ2V0SW50ZXJtZWRpYXRlUmVzdWx0PWZ1bmN0aW9uKCl7UC5zdGF0dXM9dzt2YXIgZT1ub3dOcygpLzFlNi1NO3N3aXRjaChQLnN0YXR1cyl7Y2FzZSBUZXN0U3RhdGUuV0FJVDpQLnByb2dyZXNzPTA7YnJlYWs7Y2FzZSBUZXN0U3RhdGUuSU5JVDpjYXNlIFRlc3RTdGF0ZS5JTklUX0RPV046Y2FzZSBUZXN0U3RhdGUuSU5JVF9VUDpQLnByb2dyZXNzPWUvTy5kdXJhdGlvbkluaXRNczticmVhaztjYXNlIFRlc3RTdGF0ZS5QSU5HOlAucHJvZ3Jlc3M9ZS9PLmR1cmF0aW9uUGluZ01zO2JyZWFrO2Nhc2UgVGVzdFN0YXRlLkRPV046UC5wcm9ncmVzcz1lL08uZHVyYXRpb25Eb3duTXM7YnJlYWs7Y2FzZSBUZXN0U3RhdGUuVVA6UC5wcm9ncmVzcz1lL08uZHVyYXRpb25VcE1zO2JyZWFrO2Nhc2UgVGVzdFN0YXRlLkVORDpQLnByb2dyZXNzPTE7YnJlYWs7Y2FzZSBUZXN0U3RhdGUuRVJST1I6Y2FzZSBUZXN0U3RhdGUuQUJPUlRFRDpQLnByb2dyZXNzPTB9aWYoaXNOYU4oUC5wcm9ncmVzcykmJihQLnByb2dyZXNzPTApLFAucHJvZ3Jlc3M9TWF0aC5taW4oMSxQLnByb2dyZXNzKSxudWxsIT09Yil7aWYoUC5zdGF0dXMhPT1UZXN0U3RhdGUuUElORyYmUC5zdGF0dXMhPT1UZXN0U3RhdGUuRE9XTnx8KFAucGluZ05hbm89Yi5waW5nX3NlcnZlcl9tZWRpYW4sUC5waW5ncz1iLnBpbmdzKSxQLnN0YXR1cz09PVRlc3RTdGF0ZS5ET1dOfHxQLnN0YXR1cz09VGVzdFN0YXRlLklOSVRfVVApe3ZhciB0PVJNQlRUZXN0UmVzdWx0LmNhbGN1bGF0ZU92ZXJhbGxTcGVlZEZyb21NdWx0aXBsZVRocmVhZHMoYi50aHJlYWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvd259KTtQLmRvd25CaXRQZXJTZWM9dC5zcGVlZCxQLmRvd25CaXRQZXJTZWNMb2c9KE1hdGgubG9nMTAoUC5kb3duQml0UGVyU2VjLzFlNikrMikvNH1pZihQLnN0YXR1cz09PVRlc3RTdGF0ZS5VUHx8UC5zdGF0dXM9PVRlc3RTdGF0ZS5JTklUX1VQKXt2YXIgbj1STUJUVGVzdFJlc3VsdC5jYWxjdWxhdGVPdmVyYWxsU3BlZWRGcm9tTXVsdGlwbGVUaHJlYWRzKGIudGhyZWFkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS51cH0pO1AudXBCaXRQZXJTZWM9bi5zcGVlZCxQLnVwQml0UGVyU2VjTG9nPShNYXRoLmxvZzEwKFAudXBCaXRQZXJTZWMvMWU2KSsyKS80fX1yZXR1cm4gUH0sdGhpcy5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVyblwiSU5JVFwifSxmdW5jdGlvbihlLHQpe1M9ZSxrPXR9KGUsdCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5STUJUVGVzdD1STUJUVGVzdDtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHJ1bkNhbGxiYWNrKCl7dm9pZCAwIT1nZW9fY2FsbGJhY2smJlwiZnVuY3Rpb25cIj09dHlwZW9mIGdlb19jYWxsYmFjayYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtnZW9fY2FsbGJhY2soKX0sMSl9ZnVuY3Rpb24gZ2V0Q3VyTG9jYXRpb24oKXtyZXR1cm4gY3VyR2VvUG9zfWZ1bmN0aW9uIGdldExvY2F0aW9uKG8sZSx0LG4pe3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5mb2dlb1wiKTtpZihnZW9fY2FsbGJhY2s9biwhbmF2aWdhdG9yLmdlb2xvY2F0aW9uKXt2YXIgYT1nZXRDb29raWUoXCJjb29yZHNcIik7aWYoYSl7dmFyIHI9SlNPTi5wYXJzZShhKTtyJiZyLmxhdD4wJiZyLmxvbmc+MCYmdGVzdFZpc3VhbGl6YXRpb24uc2V0TG9jYXRpb24oci5sYXQsci5sb25nKX1lbHNlIGkuaW5uZXJIVE1MPUxhbmcuZ2V0U3RyaW5nKFwiTm90U3VwcG9ydGVkXCIpO3JldHVybiB2b2lkIHJ1bkNhbGxiYWNrKCl9cnVuQ2FsbGJhY2soKSxUZXN0RW52aXJvbm1lbnQuZ2V0R2VvVHJhY2tlcigpLnN0YXJ0KGZ1bmN0aW9uKG8sZSl7aWYoITAhPT1vKWlmKGUpc3dpdGNoKGUuY29kZSl7Y2FzZSBlLlBFUk1JU1NJT05fREVOSUVEOmkuaW5uZXJIVE1MPUxhbmcuZ2V0U3RyaW5nKFwiTm9QZXJtaXNzaW9uXCIpO2JyZWFrO2Nhc2UgZS5USU1FT1VUOmJyZWFrO2Nhc2UgZS5QT1NJVElPTl9VTkFWQUlMQUJMRTppLmlubmVySFRNTD1MYW5nLmdldFN0cmluZyhcIk5vdEF2YWlsYWJsZVwiKTticmVhaztjYXNlIGUuVU5LTk9XTl9FUlJPUjppLmlubmVySFRNTD1MYW5nLmdldFN0cmluZyhcIk5vdEF2YWlsYWJsZVwiKStcIihcIitlLmNvZGUrXCIpXCJ9ZWxzZSBpLmlubmVySFRNTD1MYW5nLmdldFN0cmluZyhcIk5vdEF2YWlsYWJsZVwiKX0sVGVzdEVudmlyb25tZW50LmdldFRlc3RWaXN1YWxpemF0aW9uKCkpfXZhciBjdXJHZW9Qb3M9dm9pZCAwLGdlb19jYWxsYmFjaz12b2lkIDAsbG9jX3RpbWVvdXQ9dm9pZCAwLEdlb1RyYWNrZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKCl7ZT1bXSxhPSExfXZhciBlPXZvaWQgMCx0PXZvaWQgMCxuPW51bGwsaT12b2lkIDAsYT12b2lkIDA7by5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24obyxsKXtpZih0PW8sdm9pZCAwIT09bCYmKG49bCksbmF2aWdhdG9yLmdlb2xvY2F0aW9uKW5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24obyl7MD09PWUubGVuZ3RoJiYoYT0hMCxyKG8pKX0sYyx7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLHRpbWVvdXQ6MmUzLG1heGltdW1BZ2U6NmU0fSksaT1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihyLGMse2VuYWJsZUhpZ2hBY2N1cmFjeTohMCx0aW1lb3V0OjEvMCxtYXhpbXVtQWdlOjB9KTtlbHNle3ZhciB1PXQ7dD1udWxsLHUoITEpfXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YygpfSwyZTMpfTt2YXIgcj1mdW5jdGlvbihvKXtpZigxPT09ZS5sZW5ndGgmJmEmJihlPVtdLGE9ITEpLGUucHVzaCh7Z2VvX2xhdDpvLmNvb3Jkcy5sYXRpdHVkZSxnZW9fbG9uZzpvLmNvb3Jkcy5sb25naXR1ZGUsYWNjdXJhY3k6by5jb29yZHMuYWNjdXJhY3ksYWx0aXR1ZGU6by5jb29yZHMuYWx0aXR1ZGUsYmVhcmluZzpvLmNvb3Jkcy5oZWFkaW5nLHNwZWVkOm8uY29vcmRzLnNwZWVkLHRzdGFtcDpvLnRpbWVzdGFtcCxwcm92aWRlcjpcIkJyb3dzZXJcIn0pLG51bGwhPT10KXt2YXIgaT10O3Q9bnVsbCxpKCEwKX1udWxsIT09biYmbi5zZXRMb2NhdGlvbihvLmNvb3Jkcy5sYXRpdHVkZSxvLmNvb3Jkcy5sb25naXR1ZGUpLGwobyl9LGM9ZnVuY3Rpb24obyl7aWYobnVsbCE9PXQpe3ZhciBlPXQ7dD1udWxsLGUoITEsbyl9fSxsPWZ1bmN0aW9uKG8pe3ZhciBlPXt9O2UubGF0PW8uY29vcmRzLmxhdGl0dWRlLGUubG9uZz1vLmNvb3Jkcy5sb25naXR1ZGUsZS5hY2N1cmFjeT1vLmNvb3Jkcy5hY2N1cmFjeSxlLmFsdGl0dWRlPW8uY29vcmRzLmFsdGl0dWRlLGUuaGVhZGluZz1vLmNvb3Jkcy5oZWFkaW5nLGUuc3BlZWQ9by5jb29yZHMuc3BlZWQsZS50c3RhbXA9by50aW1lc3RhbXAsZT1KU09OLnN0cmluZ2lmeShlKSxzZXRDb29raWUoXCJjb29yZHNcIixlLDM2MDApfTtyZXR1cm4gby5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe25hdmlnYXRvci5nZW9sb2NhdGlvbiYmbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2goaSl9LG8ucHJvdG90eXBlLmdldFJlc3VsdHM9ZnVuY3Rpb24oKXt2YXIgbz1udWxsO3JldHVybiBlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1vPyhvPWUsITApOiFPYmplY3Qua2V5cyhlKS5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gby5oYXNPd25Qcm9wZXJ0eSh0KSYmb1t0XT09PWVbdF19KSYmKG89ZSwhMCl9KX0sb30oKTt2b2lkIDA9PT13aW5kb3cuc2V0Q29va2llJiYod2luZG93LnNldENvb2tpZT1mdW5jdGlvbihvLGUsdCl7dmFyIG49bmV3IERhdGUsaT1uLmdldFRpbWUoKTtpKz0xZTMqdCxuLnNldFRpbWUoaSk7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyhudWxsPT10P1wiO1wiOlwiOyBleHBpcmVzPVwiK24udG9VVENTdHJpbmcoKStcIjtcIik7ZG9jdW1lbnQuY29va2llPW8rXCI9XCIrYStcIiBwYXRoPS87XCJ9KTtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBSTUJUQ29udHJvbFNlcnZlckNvbW11bmljYXRpb249ZXhwb3J0cy5STUJUQ29udHJvbFNlcnZlckNvbW11bmljYXRpb249ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLG49bG9nLmdldExvZ2dlcihcInJtYnR3c1wiKTtyPXJ8fHt9O3ZhciBvPXIuaGVhZGVyc3x8e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9O3JldHVybntvYnRhaW5Db250cm9sU2VydmVyUmVnaXN0cmF0aW9uOmZ1bmN0aW9uKGUscil7dmFyIGk9e3ZlcnNpb246dC52ZXJzaW9uLGxhbmd1YWdlOnQubGFuZ3VhZ2UsdXVpZDp0LnV1aWQsdHlwZTp0LnR5cGUsdmVyc2lvbl9jb2RlOnQudmVyc2lvbl9jb2RlLGNsaWVudDp0LmNsaWVudCx0aW1lem9uZTp0LnRpbWV6b25lLHRpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9O09iamVjdC5hc3NpZ24oaSx0LmFkZGl0aW9uYWxSZWdpc3RyYXRpb25QYXJhbWV0ZXJzKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdXNlclNlcnZlclNlbGVjdGlvbiYmdXNlclNlcnZlclNlbGVjdGlvbj4wJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVXNlckNvbmYmJnZvaWQgMCE9PVVzZXJDb25mLnByZWZlcnJlZFNlcnZlciYmXCJkZWZhdWx0XCIhPT1Vc2VyQ29uZi5wcmVmZXJyZWRTZXJ2ZXImJihpLnByZWZlcl9zZXJ2ZXI9VXNlckNvbmYucHJlZmVycmVkU2VydmVyLGkudXNlcl9zZXJ2ZXJfc2VsZWN0aW9uPXVzZXJTZXJ2ZXJTZWxlY3Rpb24pO3ZhciBzPXZvaWQgMDtmZXRjaCh0LmNvbnRyb2xTZXJ2ZXJVUkwrdC5jb250cm9sU2VydmVyUmVnaXN0cmF0aW9uUmVzb3VyY2Use21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOm8sYm9keTpKU09OLnN0cmluZ2lmeShpKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkudGhlbihmdW5jdGlvbihyKXtzPXI7dmFyIHQ9bmV3IFJNQlRDb250cm9sU2VydmVyUmVnaXN0cmF0aW9uUmVzcG9uc2Uocik7ZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3M9ZSxuLmVycm9yKFwiZXJyb3IgZ2V0dGluZyB0ZXN0SURcIikscigpfSkuZmluYWxseShmdW5jdGlvbigpe251bGwhPV9yZWdpc3RyYXRpb25DYWxsYmFjayYmXCJmdW5jdGlvblwiPT10eXBlb2YgX3JlZ2lzdHJhdGlvbkNhbGxiYWNrJiZfcmVnaXN0cmF0aW9uQ2FsbGJhY2soe3Jlc3BvbnNlOnMscmVxdWVzdDppfSl9KX0sZ2V0RGF0YUNvbGxlY3RvckluZm86ZnVuY3Rpb24oKXtmZXRjaCh0LmNvbnRyb2xTZXJ2ZXJVUkwrdC5jb250cm9sU2VydmVyRGF0YUNvbGxlY3RvclJlc291cmNlLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOm99KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5wcm9kdWN0PWUuYWdlbnQuc3Vic3RyaW5nKDAsTWF0aC5taW4oMTUwLGUuYWdlbnQubGVuZ3RoKSksdC5tb2RlbD1lLnByb2R1Y3QsdC5vc192ZXJzaW9uPWUudmVyc2lvbn0pLmNhdGNoKGZ1bmN0aW9uKCl7bi5lcnJvcihcImVycm9yIGdldHRpbmcgZGF0YSBjb2xsZWN0aW9uIHJlc3BvbnNlXCIpfSl9LHN1Ym1pdFJlc3VsdHM6ZnVuY3Rpb24oZSxyLGkpe09iamVjdC5hc3NpZ24oZSx0LmFkZGl0aW9uYWxTdWJtaXNzaW9uUGFyYW1ldGVycyk7dmFyIHM9SlNPTi5zdHJpbmdpZnkoZSk7bi5kZWJ1ZyhcIlN1Ym1pdCBzaXplOiBcIitzLmxlbmd0aCk7dmFyIGE9dm9pZCAwO2ZldGNoKHQuY29udHJvbFNlcnZlclVSTCt0LmNvbnRyb2xTZXJ2ZXJSZXN1bHRSZXNvdXJjZSx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6byxib2R5OnN9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7YT10LG4uZGVidWcoZS50ZXN0X3V1aWQpLHIoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7YT1lLG4uZXJyb3IoXCJlcnJvciBzdWJtaXR0aW5nIHJlc3VsdHNcIiksaSghMSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7bnVsbCE9PV9zdWJtaXNzaW9uQ2FsbGJhY2smJlwiZnVuY3Rpb25cIj09dHlwZW9mIF9zdWJtaXNzaW9uQ2FsbGJhY2smJl9zdWJtaXNzaW9uQ2FsbGJhY2soe3Jlc3BvbnNlOmEscmVxdWVzdDplfSl9KX19fTtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFJNQlRJbnRlcm1lZGlhdGVSZXN1bHQoKXt9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFRlc3RFbnZpcm9ubWVudD1leHBvcnRzLlRlc3RFbnZpcm9ubWVudD1mdW5jdGlvbigpe3ZhciBlPW51bGwsdD1udWxsO3JldHVybntnZXRUZXN0VmlzdWFsaXphdGlvbjpmdW5jdGlvbigpe3JldHVybiBlfSxnZXRHZW9UcmFja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGluaXQ6ZnVuY3Rpb24ocixuKXt2b2lkIDA9PT1yJiYocj1uZXcgVGVzdFZpc3VhbGl6YXRpb24pLHZvaWQgMD09PW4mJihuPW5ldyBHZW9UcmFja2VyKSxlPXIsdD1ufX19KCksVGVzdFN0YXRlPXtXQUlUOlwiV0FJVFwiLElOSVQ6XCJJTklUXCIsSU5JVF9ET1dOOlwiSU5JVF9ET1dOXCIsUElORzpcIlBJTkdcIixET1dOOlwiRE9XTlwiLENPTk5FQ1RfVVBMT0FEOlwiQ09OTkVDVF9VUExPQURcIixJTklUX1VQOlwiSU5JVF9VUFwiLFVQOlwiVVBcIixFTkQ6XCJFTkRcIixFUlJPUjpcIkVSUk9SXCIsQUJPUlRFRDpcIkFCT1JURURcIixMT0NBVEU6XCJMT0NBVEVcIixMT0NBQk9SVEVEOlwiTE9DQUJPUlRFRFwiLFNQRUVEVEVTVF9FTkQ6XCJTUEVFRFRFU1RfRU5EXCIsUU9TX1RFU1RfUlVOTklORzpcIlFPU19URVNUX1JVTk5JTkdcIixRT1NfRU5EOlwiUU9TX0VORFwifTtSTUJUSW50ZXJtZWRpYXRlUmVzdWx0LnByb3RvdHlwZS5zZXRMb2dWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gZTwxZTQ/MDooMitNYXRoLmxvZyhlLzFlNi9NYXRoLkxOMTApKS80fTt0aGlzLmRvd25CaXRQZXJTZWNMb2c9ZShkb3duQml0UGVyU2VjKSx0aGlzLnVwQml0UGVyU2VjTG9nPWUodXBCaXRQZXJTZWMpfSxSTUJUSW50ZXJtZWRpYXRlUmVzdWx0LnByb3RvdHlwZS5waW5nTmFubz0tMSxSTUJUSW50ZXJtZWRpYXRlUmVzdWx0LnByb3RvdHlwZS5kb3duQml0UGVyU2VjPS0xLFJNQlRJbnRlcm1lZGlhdGVSZXN1bHQucHJvdG90eXBlLnVwQml0UGVyU2VjPS0xLFJNQlRJbnRlcm1lZGlhdGVSZXN1bHQucHJvdG90eXBlLnN0YXR1cz1UZXN0U3RhdGUuSU5JVCxSTUJUSW50ZXJtZWRpYXRlUmVzdWx0LnByb3RvdHlwZS5wcm9ncmVzcz0wLFJNQlRJbnRlcm1lZGlhdGVSZXN1bHQucHJvdG90eXBlLmRvd25CaXRQZXJTZWNMb2c9LTEsUk1CVEludGVybWVkaWF0ZVJlc3VsdC5wcm90b3R5cGUudXBCaXRQZXJTZWNMb2c9LTEsUk1CVEludGVybWVkaWF0ZVJlc3VsdC5wcm90b3R5cGUucmVtYWluaW5nV2FpdD0tMTtcblwidXNlIHN0cmljdFwiO3ZhciBUZXN0VmlzdWFsaXphdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxzKXt0aGlzLnN1Y2Nlc3NDYWxsYmFjaz10LHRoaXMuZXJyb3JDYWxsYmFjaz1zfXJldHVybiB0LnByb3RvdHlwZS5zZXRSTUJUVGVzdD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnVwZGF0ZUluZm89ZnVuY3Rpb24odCxzLGEsYyxvKXt9LHQucHJvdG90eXBlLnNldFN0YXR1cz1mdW5jdGlvbih0KXtpZihcIkVSUk9SXCI9PT10fHxcIkFCT1JURURcIj09PXQpe2lmKHRoaXMuZXJyb3JDYWxsYmFjayl7dmFyIHM9dGhpcy5lcnJvckNhbGxiYWNrO3RoaXMuZXJyb3JDYWxsYmFjaz1udWxsLHMoKX19ZWxzZSBpZihcIkVORFwiPT09dCYmbnVsbCE9PV9zdWNjZXNzQ2FsbGJhY2spe3ZhciBzPXRoaXMuc3VjY2Vzc0NhbGxiYWNrO3RoaXMuc3VjY2Vzc0NhbGxiYWNrPW51bGwscygpfX0sdC5wcm90b3R5cGUuc2V0TG9jYXRpb249ZnVuY3Rpb24odCxzKXt9LHQucHJvdG90eXBlLnN0YXJ0VGVzdD1mdW5jdGlvbigpe30sdH0oKTtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFJNQlRUZXN0VGhyZWFkKHQpe3ZhciBlPWxvZy5nZXRMb2dnZXIoXCJybWJ0d3NcIiksbz17fSxzPXQ7cmV0dXJue3NldFN0YXRlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGU9dCxlLmRlYnVnKHRoaXMuaWQrXCI6IHJlYWNoZWQgc3RhdGU6IFwiK3QpO3ZhciByPXRoaXM7cy5hd2FpdChmdW5jdGlvbigpe2lmKGUuZGVidWcoci5pZCtcIjogYWxsIHRocmVhZHMgcmVhY2hlZCBzdGF0ZTogXCIrdCksdm9pZCAwIT09b1t0XSYmbnVsbCE9PW9bdF0peygwLG9bdF0pKCl9ZWxzZSBlLmluZm8oci5pZCtcIjogbm8gY2FsbGJhY2sgcmVnaXN0ZXJlZCBmb3Igc3RhdGU6IFwiK3QpfSl9LG9uU3RhdGVFbnRlcjpmdW5jdGlvbih0LGUpe29bdF09ZX0scmV0cmlnZ2VyU3RhdGU6ZnVuY3Rpb24oKXtzZXRTdGF0ZSh0aGlzLnN0YXRlKX0sdHJpZ2dlck5leHRTdGF0ZTpmdW5jdGlvbigpe3ZhciB0PVtUZXN0U3RhdGUuSU5JVCxUZXN0U3RhdGUuSU5JVF9ET1dOLFRlc3RTdGF0ZS5QSU5HLFRlc3RTdGF0ZS5ET1dOLFRlc3RTdGF0ZS5DT05ORUNUX1VQTE9BRCxUZXN0U3RhdGUuSU5JVF9VUCxUZXN0U3RhdGUuVVAsVGVzdFN0YXRlLkVORF07aWYodGhpcy5zdGF0ZSE9PVRlc3RTdGF0ZS5FTkQpe3ZhciBvPXRbdC5pbmRleE9mKHRoaXMuc3RhdGUpKzFdO2UuZGVidWcodGhpcy5pZCtcIjogdHJpZ2dlcmVkIHN0YXRlIFwiK28pLHRoaXMuc2V0U3RhdGUobyl9fSxpZDotMSxzb2NrZXQ6bnVsbCxyZXN1bHQ6bmV3IFJNQlRUaHJlYWRUZXN0UmVzdWx0fX1mdW5jdGlvbiBSTUJUVGVzdFJlc3VsdCgpe3RoaXMucGluZ3M9W10sdGhpcy5zcGVlZEl0ZW1zPVtdLHRoaXMudGhyZWFkcz1bXX1mdW5jdGlvbiBSTUJUVGhyZWFkVGVzdFJlc3VsdCgpe3RoaXMuZG93bj1bXSx0aGlzLnVwPVtdLHRoaXMucGluZ3M9W119ZnVuY3Rpb24gUk1CVFBpbmdSZXN1bHQoKXt9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFJNQlRUZXN0Q29uZmlnPWV4cG9ydHMuUk1CVFRlc3RDb25maWc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxvKXt0aGlzLmxhbmd1YWdlPXQsdGhpcy5jb250cm9sU2VydmVyVVJMPWUrXCIvXCIrbyxcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50bCYmSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lJiYodGhpcy50aW1lem9uZT1JbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUucmVwbGFjZShcIkV1cm9wZS9CZXJsaW5cIixcIkV1cm9wZS9WaWVubmFcIikpfXJldHVybiB0LnByb3RvdHlwZS52ZXJzaW9uPVwiMC4zXCIsdC5wcm90b3R5cGUubGFuZ3VhZ2UsdC5wcm90b3R5cGUudXVpZD1cIlwiLHQucHJvdG90eXBlLnR5cGU9XCJERVNLVE9QXCIsdC5wcm90b3R5cGUudmVyc2lvbl9jb2RlPVwiMC4zXCIsdC5wcm90b3R5cGUuY2xpZW50X3ZlcnNpb249XCIwLjNcIix0LnByb3RvdHlwZS5jbGllbnRfc29mdHdhcmVfdmVyc2lvbj1cIjAuOS4xXCIsdC5wcm90b3R5cGUub3NfdmVyc2lvbj0xLHQucHJvdG90eXBlLnBsYXRmb3JtPVwiUk1CVHdzXCIsdC5wcm90b3R5cGUubW9kZWw9XCJXZWJzb2NrZXRcIix0LnByb3RvdHlwZS5wcm9kdWN0PVwiQ2hyb21lXCIsdC5wcm90b3R5cGUuY2xpZW50PVwiUk1CVHdzXCIsdC5wcm90b3R5cGUudGltZXpvbmU9XCJFdXJvcGUvVmllbm5hXCIsdC5wcm90b3R5cGUuY29udHJvbFNlcnZlclVSTCx0LnByb3RvdHlwZS5jb250cm9sU2VydmVyUmVnaXN0cmF0aW9uUmVzb3VyY2U9XCIvdGVzdFJlcXVlc3RcIix0LnByb3RvdHlwZS5jb250cm9sU2VydmVyUmVzdWx0UmVzb3VyY2U9XCIvcmVzdWx0XCIsdC5wcm90b3R5cGUuY29udHJvbFNlcnZlckRhdGFDb2xsZWN0b3JSZXNvdXJjZT1cIi9yZXF1ZXN0RGF0YUNvbGxlY3RvclwiLHQucHJvdG90eXBlLnByZXRlc3REdXJhdGlvbk1zPTJlMyx0LnByb3RvdHlwZS5zYXZlZENodW5rcz00LHQucHJvdG90eXBlLm1lYXN1cmVtZW50UG9pbnRzVGltZXNwYW49NDAsdC5wcm90b3R5cGUubnVtUGluZ3M9MTAsdC5wcm90b3R5cGUuZG9QaW5nSW50ZXJ2YWxNaWxsaXNlY29uZHM9LTEsdC5wcm90b3R5cGUuZG93bmxvYWRUaHJlYWRzTGltaXRzTWJpdD17MDoxLDE6MywxMDA6NX0sdC5wcm90b3R5cGUudXBsb2FkVGhyZWFkc0xpbWl0c01iaXQ9ezA6MSwzMDoyLDgwOjMsMTUwOjV9LHQucHJvdG90eXBlLnVzZXJTZXJ2ZXJTZWxlY3Rpb249dm9pZCAwIT09d2luZG93LnVzZXJTZXJ2ZXJTZWxlY3Rpb24/dXNlclNlcnZlclNlbGVjdGlvbjowLHQucHJvdG90eXBlLmFkZGl0aW9uYWxSZWdpc3RyYXRpb25QYXJhbWV0ZXJzPXt9LHQucHJvdG90eXBlLmFkZGl0aW9uYWxTdWJtaXNzaW9uUGFyYW1ldGVycz17fSx0fSgpLFJNQlRDb250cm9sU2VydmVyUmVnaXN0cmF0aW9uUmVzcG9uc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe09iamVjdC5hc3NpZ24odGhpcyx0KSx0aGlzLnRlc3RfZHVyYXRpb249cGFyc2VJbnQodC50ZXN0X2R1cmF0aW9uKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xpZW50X3JlbW90ZV9pcCx0LnByb3RvdHlwZS5wcm92aWRlcix0LnByb3RvdHlwZS50ZXN0X3NlcnZlcl9lbmNyeXB0aW9uPVwiXCIsdC5wcm90b3R5cGUudGVzdF9udW10aHJlYWRzLHQucHJvdG90eXBlLnRlc3Rfc2VydmVyX25hbWUsdC5wcm90b3R5cGUudGVzdF91dWlkLHQucHJvdG90eXBlLnRlc3RfaWQsdC5wcm90b3R5cGUudGVzdF90b2tlbix0LnByb3RvdHlwZS50ZXN0X3NlcnZlcl9hZGRyZXNzLHQucHJvdG90eXBlLnRlc3RfZHVyYXRpb24sdC5wcm90b3R5cGUucmVzdWx0X3VybCx0LnByb3RvdHlwZS50ZXN0X3dhaXQsdC5wcm90b3R5cGUudGVzdF9zZXJ2ZXJfcG9ydCx0fSgpO1JNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5hZGRUaHJlYWQ9ZnVuY3Rpb24odCl7dGhpcy50aHJlYWRzLnB1c2godCl9LFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5pcF9sb2NhbD1udWxsLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5pcF9zZXJ2ZXI9bnVsbCxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUucG9ydF9yZW1vdGU9bnVsbCxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUubnVtX3RocmVhZHM9bnVsbCxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUuZW5jcnlwdGlvbj1cIk5PTkVcIixSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUucGluZ19zaG9ydGVzdD0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUucGluZ19tZWRpYW49LTEsUk1CVFRlc3RSZXN1bHQucHJvdG90eXBlLmNsaWVudF92ZXJzaW9uPW51bGwsUk1CVFRlc3RSZXN1bHQucHJvdG90eXBlLnBpbmdzPVtdLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5zcGVlZF9kb3dubG9hZD0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUuc3BlZWRfdXBsb2FkPS0xLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5zcGVlZEl0ZW1zPVtdLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5ieXRlc19kb3dubG9hZD0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUubnNlY19kb3dubG9hZD0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUuYnl0ZXNfdXBsb2FkPS0xLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5uc2VjX3VwbG9hZD0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUudG90YWxEb3duQnl0ZXM9LTEsUk1CVFRlc3RSZXN1bHQucHJvdG90eXBlLnRvdGFsVXBCeXRlcz0tMSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUuYmVnaW5UaW1lPS0xLFJNQlRUZXN0UmVzdWx0LnByb3RvdHlwZS5nZW9Mb2NhdGlvbnM9W10sUk1CVFRlc3RSZXN1bHQuY2FsY3VsYXRlT3ZlcmFsbFNwZWVkRnJvbU11bHRpcGxlVGhyZWFkcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz10Lmxlbmd0aCxzPTEvMCxyPTA7cjxvO3IrKyl7dmFyIHA9ZSh0W3JdKTtwLmxlbmd0aD4wJiZwW3AubGVuZ3RoLTFdLmR1cmF0aW9uPHMmJihzPXBbcC5sZW5ndGgtMV0uZHVyYXRpb24pfWZvcih2YXIgbj0wLGk9MDtpPG87aSsrKXt2YXIgYT10W2ldLGw9ZShhKSx1PWwubGVuZ3RoO2lmKG51bGwhPT1hJiZ1PjApe2Zvcih2YXIgZD11LFQ9MDtUPHU7VCsrKWlmKGxbVF0uZHVyYXRpb24+PXMpe2Q9VDticmVha312YXIgUj12b2lkIDA7aWYobFtkXS5kdXJhdGlvbj09PXMpUj1sW3UtMV0uYnl0ZXM7ZWxzZXt2YXIgeT0wPT09ZD8wOmxbZC0xXS5ieXRlcyxoPWxbZF0uYnl0ZXMsYz1oLXksdj0wPT09ZD8wOmxbZC0xXS5kdXJhdGlvbixnPWxbZF0uZHVyYXRpb24sXz1nLXYsTT1zLXYsQj1NL18sZj1NYXRoLnJvdW5kKGMqQik7ZjwwJiYoZj0wKSxSPXkrZn1uKz1SfX1yZXR1cm57Ynl0ZXM6bixuc2VjOnMsc3BlZWQ6OCpuLyhzLzFlOSl9fSxSTUJUVGVzdFJlc3VsdC5wcm90b3R5cGUuY2FsY3VsYXRlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnRocmVhZHMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy50aHJlYWRzW3RdLmRvd247aWYoZS5sZW5ndGg+MClmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl0aGlzLnNwZWVkSXRlbXMucHVzaCh7ZGlyZWN0aW9uOlwiZG93bmxvYWRcIix0aHJlYWQ6dCx0aW1lOmVbb10uZHVyYXRpb24sYnl0ZXM6ZVtvXS5ieXRlc30pfXZhciBzPVJNQlRUZXN0UmVzdWx0LmNhbGN1bGF0ZU92ZXJhbGxTcGVlZEZyb21NdWx0aXBsZVRocmVhZHModGhpcy50aHJlYWRzLGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvd259KTt0aGlzLnNwZWVkX2Rvd25sb2FkPXMuc3BlZWQvMWUzLHRoaXMuYnl0ZXNfZG93bmxvYWQ9cy5ieXRlcyx0aGlzLm5zZWNfZG93bmxvYWQ9cy5uc2VjO2Zvcih2YXIgcj0wO3I8dGhpcy50aHJlYWRzLmxlbmd0aDtyKyspe3ZhciBwPXRoaXMudGhyZWFkc1tyXS51cDtpZihwLmxlbmd0aD4wKWZvcih2YXIgbj0wO248cC5sZW5ndGg7bisrKXRoaXMuc3BlZWRJdGVtcy5wdXNoKHtkaXJlY3Rpb246XCJ1cGxvYWRcIix0aHJlYWQ6cix0aW1lOnBbbl0uZHVyYXRpb24sYnl0ZXM6cFtuXS5ieXRlc30pfXM9Uk1CVFRlc3RSZXN1bHQuY2FsY3VsYXRlT3ZlcmFsbFNwZWVkRnJvbU11bHRpcGxlVGhyZWFkcyh0aGlzLnRocmVhZHMsZnVuY3Rpb24odCl7cmV0dXJuIHQudXB9KSx0aGlzLnNwZWVkX3VwbG9hZD1zLnNwZWVkLzFlMyx0aGlzLmJ5dGVzX3VwbG9hZD1zLmJ5dGVzLHRoaXMubnNlY191cGxvYWQ9cy5uc2VjO2Zvcih2YXIgaT10aGlzLnRocmVhZHNbMF0ucGluZ3MsYT0wO2E8aS5sZW5ndGg7YSsrKXRoaXMucGluZ3MucHVzaCh7dmFsdWU6aVthXS5jbGllbnQsdmFsdWVfc2VydmVyOmlbYV0uc2VydmVyLHRpbWVfbnM6aVthXS50aW1lTnN9KTtmb3IodmFyIGw9MDtsPHRoaXMuZ2VvTG9jYXRpb25zLmxlbmd0aDtsKyspe3ZhciB1PXRoaXMuZ2VvTG9jYXRpb25zW2xdO3UudGltZV9ucz0xZTYqKHUudHN0YW1wLXRoaXMuYmVnaW5UaW1lKX19LFJNQlRUaHJlYWRUZXN0UmVzdWx0LnByb3RvdHlwZS5kb3duPW51bGwsUk1CVFRocmVhZFRlc3RSZXN1bHQucHJvdG90eXBlLnVwPW51bGwsUk1CVFRocmVhZFRlc3RSZXN1bHQucHJvdG90eXBlLnBpbmdzPW51bGwsUk1CVFRocmVhZFRlc3RSZXN1bHQucHJvdG90eXBlLnRvdGFsRG93bkJ5dGVzPS0xLFJNQlRUaHJlYWRUZXN0UmVzdWx0LnByb3RvdHlwZS50b3RhbFVwQnl0ZXM9LTEsUk1CVFBpbmdSZXN1bHQucHJvdG90eXBlLmNsaWVudD0tMSxSTUJUUGluZ1Jlc3VsdC5wcm90b3R5cGUuc2VydmVyPS0xLFJNQlRQaW5nUmVzdWx0LnByb3RvdHlwZS50aW1lTnM9LTE7dmFyIFJNQlRFcnJvcj17Tk9UX1NVUFBPUlRFRDpcIldlYlNvY2tldHMgYXJlIG5vdCBzdXBwb3J0ZWRcIixTT0NLRVRfSU5JVF9GQUlMRUQ6XCJXZWJTb2NrZXQgaW5pdGlhbGl6YXRpb24gZmFpbGVkXCIsQ09OTkVDVF9GQUlMRUQ6XCJjb25uZWN0aW9uIHRvIHRlc3Qgc2VydmVyIGZhaWxlZFwiLFNVQk1JVF9GQUlMRUQ6XCJFcnJvciBkdXJpbmcgc3VibWlzc2lvbiBvZiB0ZXN0IHJlc3VsdHNcIixSRUdJU1RSQVRJT05fRkFJTEVEOlwiRXJyb3IgZHVyaW5nIHRlc3QgcmVnaXN0cmF0aW9uXCJ9O1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbm93TXMoKXtyZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpfWZ1bmN0aW9uIG5vd05zKCl7cmV0dXJuIE1hdGgucm91bmQoMWU2KndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSl9ZnVuY3Rpb24gQ3ljbGljQmFycmllcihuKXt2YXIgbz1uLGU9W10scj1mdW5jdGlvbigpe3ZhciBuPWUuc2xpY2UoKTtlPVtdLHNlbGYuc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bztlKyspbltlXSgpfSwxKX07cmV0dXJue2F3YWl0OmZ1bmN0aW9uKG4pe2UucHVzaChuKSxlLmxlbmd0aD09PW8mJnIoKX19fSFmdW5jdGlvbigpe2lmKERhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pLHZvaWQgMD09PXdpbmRvdy5wZXJmb3JtYW5jZSYmKHdpbmRvdy5wZXJmb3JtYW5jZT17fSksIXdpbmRvdy5wZXJmb3JtYW5jZS5ub3d8fHZvaWQgMD09PXdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpe3ZhciBuPURhdGUubm93KCk7cGVyZm9ybWFuY2UudGltaW5nJiZwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0JiYobj1wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSx3aW5kb3cucGVyZm9ybWFuY2Uubm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktbn19fSgpLE1hdGgubWVkaWFuPWZ1bmN0aW9uKG4pe24uc29ydChmdW5jdGlvbihuLG8pe3JldHVybiBuLW99KTt2YXIgbz1NYXRoLmZsb29yKG4ubGVuZ3RoLzIpO3JldHVybiBuLmxlbmd0aCUyP25bb106KG5bby0xXStuW29dKS8yfSxNYXRoLmxvZzEwPU1hdGgubG9nMTB8fGZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLmxvZyhuKS9NYXRoLkxOMTB9LHNlbGYubG9nPXNlbGYubG9nfHx7ZGVidWc6ZnVuY3Rpb24oKXt2YXIgbjsobj1jb25zb2xlKS5sb2cuYXBwbHkobixhcmd1bWVudHMpfSx0cmFjZTpmdW5jdGlvbigpe2NvbnNvbGUudHJhY2UoKX0saW5mbzpmdW5jdGlvbigpe3ZhciBuOyhuPWNvbnNvbGUpLmluZm8uYXBwbHkobixhcmd1bWVudHMpfSx3YXJuOmZ1bmN0aW9uKCl7dmFyIG47KG49Y29uc29sZSkud2Fybi5hcHBseShuLGFyZ3VtZW50cyl9LGVycm9yOmZ1bmN0aW9uKCl7dmFyIG47KG49Y29uc29sZSkuZXJyb3IuYXBwbHkobixhcmd1bWVudHMpfSxzZXRMZXZlbDpmdW5jdGlvbigpe30sZ2V0TG9nZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIGxvZ319LFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24mJihPYmplY3QuYXNzaWduPWZ1bmN0aW9uKG4sbyl7aWYobnVsbD09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgZT1PYmplY3Qobikscj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtpZihudWxsIT10KWZvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLHZvaWQgMD09PWRvY3VtZW50LmhpZGRlbiYmKGRvY3VtZW50LmhpZGRlbj0hMSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ybWJ0d3MubWluLmpzLm1hcFxuIl19
